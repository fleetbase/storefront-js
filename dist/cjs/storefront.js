"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function e(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function n(t){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=t.apply(n,r);function u(t){e(a,i,o,u,s,"next",t)}function s(t){e(a,i,o,u,s,"throw",t)}u(void 0)}))}}function r(t,e,n){return e=c(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,n||[],c(t).constructor):e.apply(t,n))}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=w(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(){v=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof m?e:m,a=Object.create(o.prototype),u=new L(r||[]);return i(a,"_invoke",{value:T(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",y="completed",g={};function m(){}function w(){}function b(){}var k={};c(k,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(D([])));E&&E!==n&&r.call(E,a)&&(k=E);var A=b.prototype=m.prototype=Object.create(k);function O(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function T(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===y){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=R(u,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?y:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=y,r.method="throw",r.arg=c.arg)}}}function R(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return w.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=c(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},O(S.prototype),c(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(A),c(A,s,"Generator"),c(A,a,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=D,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e);else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(t,e)||w(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function w(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function b(t,e){this.v=t,this.k=e}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function x(t){if(Array.isArray(t))return t}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){var e={},n=!1;function r(e,r){return n=!0,r=new Promise((function(n){n(t[e](r))})),{done:!1,value:new b(r,1)}}return e["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},e.next=function(t){return n?(n=!1,t):r("next",t)},"function"==typeof t.throw&&(e.throw=function(t){if(n)throw n=!1,t;return r("throw",t)}),"function"==typeof t.return&&(e.return=function(t){return n?(n=!1,t):r("return",t)}),e}function O(t){var e,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(e=t[n]))return e.call(t);if(r&&null!=(e=t[r]))return new S(e.call(t));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function S(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return S=function(t){this.s=t,this.n=t.next},S.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new S(t)}function T(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function R(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){T(o,r,i,a,u,"next",t)}function u(t){T(o,r,i,a,u,"throw",t)}a(void 0)}))}}function P(t){return new b(t,0)}function j(t,e,n){return e=M(e),function(t,e){if(e&&("object"==m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return E(t)}(t,H()?Reflect.construct(e,n||[],M(t).constructor):e.apply(t,n))}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e,n){if(H())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&W(i,n.prototype),i}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q(r.key),r)}}function N(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=X(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function F(t,e,n){return(e=Q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}function q(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}function H(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(H=function(){return!!t})()}function I(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){F(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function U(){U=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new L(r||[]);return i(a,"_invoke",{value:T(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",v="executing",p="completed",y={};function g(){}function w(){}function b(){}var k={};c(k,a,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(D([])));E&&E!==n&&r.call(E,a)&&(k=E);var A=b.prototype=g.prototype=Object.create(k);function O(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==m(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function T(e,n,r){var i=f;return function(o,a){if(i===v)throw Error("Generator is already running");if(i===p){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=R(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=h(e,n,r);if("normal"===c.type){if(i=r.done?p:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=p,r.method="throw",r.arg=c.arg)}}}function R(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(m(e)+" is not iterable")}return w.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:w,configurable:!0}),w.displayName=c(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},O(S.prototype),c(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(A),c(A,s,"Generator"),c(A,a,(function(){return this})),c(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=D,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;j(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function W(t,e){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},W(t,e)}function Y(t,e){return x(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){c=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(t,e)||X(t,e)||B()}function G(t){return function(t){if(Array.isArray(t))return k(t)}(t)||I(t)||X(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t){var e=function(t){if("object"!=m(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(e)?e:e+""}function J(t){return J="function"==typeof Symbol&&"symbol"==m(Symbol.iterator)?function(t){return m(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":m(t)},J(t)}function X(t,e){if(t){if("string"==typeof t)return k(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}function K(t){return function(){return new V(t.apply(this,arguments))}}function V(t){var e,n;function r(e,n){try{var o=t[e](n),a=o.value,u=a instanceof b;Promise.resolve(u?a.v:a).then((function(n){if(u){var s="return"===e?"return":"next";if(!a.k||n.done)return r(s,n);n=t[s](n).value}i(o.done?"return":"normal",n)}),(function(t){r("throw",t)}))}catch(t){i("throw",t)}}function i(t,i){switch(t){case"return":e.resolve({value:i,done:!0});break;case"throw":e.reject(i);break;default:e.resolve({value:i,done:!1})}(e=e.next)?r(e.key,e.arg):n=null}this._invoke=function(t,i){return new Promise((function(o,a){var u={key:t,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(e=n=u,r(t,i))}))},"function"!=typeof t.return&&(this.return=void 0)}function Z(t){var e="function"==typeof Map?new Map:void 0;return Z=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return D(t,arguments,M(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),W(n,t)},Z(t)}Object.defineProperty(exports,"__esModule",{value:!0}),V.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},V.prototype.next=function(t){return this._invoke("next",t)},V.prototype.throw=function(t){return this._invoke("throw",t)},V.prototype.return=function(t){return this._invoke("return",t)};var tt=function(){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];L(this,t),F(this,"uncountableWords",["equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"]),F(this,"pluralRules",[[new RegExp("(m)an$","gi"),"$1en"],[new RegExp("(pe)rson$","gi"),"$1ople"],[new RegExp("(child)$","gi"),"$1ren"],[new RegExp("^(ox)$","gi"),"$1en"],[new RegExp("(ax|test)is$","gi"),"$1es"],[new RegExp("(octop|vir)us$","gi"),"$1i"],[new RegExp("(alias|status)$","gi"),"$1es"],[new RegExp("(bu)s$","gi"),"$1ses"],[new RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[new RegExp("([ti])um$","gi"),"$1a"],[new RegExp("sis$","gi"),"ses"],[new RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[new RegExp("(hive)$","gi"),"$1s"],[new RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[new RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[new RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[new RegExp("([m|l])ouse$","gi"),"$1ice"],[new RegExp("(quiz)$","gi"),"$1zes"],[new RegExp("s$","gi"),"s"],[new RegExp("$","gi"),"s"]]),F(this,"singularRules",[[new RegExp("(m)en$","gi"),"$1an"],[new RegExp("(pe)ople$","gi"),"$1rson"],[new RegExp("(child)ren$","gi"),"$1"],[new RegExp("([ti])a$","gi"),"$1um"],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),"$1$2sis"],[new RegExp("(hive)s$","gi"),"$1"],[new RegExp("(tive)s$","gi"),"$1"],[new RegExp("(curve)s$","gi"),"$1"],[new RegExp("([lr])ves$","gi"),"$1f"],[new RegExp("([^fo])ves$","gi"),"$1fe"],[new RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[new RegExp("(s)eries$","gi"),"$1eries"],[new RegExp("(m)ovies$","gi"),"$1ovie"],[new RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[new RegExp("([m|l])ice$","gi"),"$1ouse"],[new RegExp("(bus)es$","gi"),"$1"],[new RegExp("(o)es$","gi"),"$1"],[new RegExp("(shoe)s$","gi"),"$1"],[new RegExp("(cris|ax|test)es$","gi"),"$1is"],[new RegExp("(octop|vir)i$","gi"),"$1us"],[new RegExp("(alias|status)es$","gi"),"$1"],[new RegExp("^(ox)en","gi"),"$1"],[new RegExp("(vert|ind)ices$","gi"),"$1ex"],[new RegExp("(matr)ices$","gi"),"$1ix"],[new RegExp("(quiz)zes$","gi"),"$1"],[new RegExp("s$","gi"),""]]),F(this,"nonTitlecasedWords",["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"]),F(this,"idSuffix",new RegExp("(_ids|_id)$","g")),F(this,"underbar",new RegExp("_","g")),F(this,"spaceOrUnderbar",new RegExp("[ _]","g")),F(this,"uppercase",new RegExp("([A-Z])","g")),F(this,"underbarPrefix",new RegExp("^_")),this.str=e,this.chain=n}return N(t,[{key:"get",value:function(){return this.str}},{key:"applyRules",value:function(t,e,n,r){if(r)t=r;else if(!(n.indexOf(t.toLowerCase())>-1))for(var i=0;i<e.length;i++)if(t.match(e[i][0])){t=t.replace(e[i][0],e[i][1]);break}return this.str=t,!0===this.chain?this:t}},{key:"pluralize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=t||this.str,this.applyRules(t,this.pluralRules,this.uncountableWords,e)}},{key:"singularize",value:function(t,e){return t=t||this.str,this.applyRules(t,this.singularRules,this.uncountableWords,e)}},{key:"camelize",value:function(t,e){for(var n=(t=t||this.str).split("/"),r=0;r<n.length;r++){for(var i=n[r].split("_"),o=e&&r+1===n.length?1:0;o<i.length;o++)i[o]=i[o].charAt(0).toUpperCase()+i[o].substring(1);n[r]=i.join("")}if(t=n.join("::"),!0===e){var a=t.charAt(0).toLowerCase(),u=t.slice(1);t=a+u}return this.str=t,!0===this.chain?this:t}},{key:"underscore",value:function(t){for(var e=(t=t||this.str).split("::"),n=0;n<e.length;n++)e[n]=e[n].replace(this.uppercase,"_$1"),e[n]=e[n].replace(this.underbarPrefix,"");return t=e.join("/").toLowerCase(),this.str=t,!0===this.chain?this:t}},{key:"humanize",value:function(t,e){return t=(t=(t=(t=t||this.str).toLowerCase()).replace(this.idSuffix,"")).replace(this.underbar," "),e||(t=this.capitalize(t)),this.str=t,!0===this.chain?this:t}},{key:"capitalize",value:function(t){return t=(t=(t=t||this.str).toLowerCase()).substring(0,1).toUpperCase()+t.substring(1),this.str=t,!0===this.chain?this:t}},{key:"dasherize",value:function(t){return t=(t=(t=t||this.str).replace(this.spaceOrUnderbar,"-")).toLowerCase(),this.str=t,!0===this.chain?this:t}},{key:"normify",value:function(t,e){t=t||this.str,!0===e?(t=this.camelize(t),t=this.underscore(t)):t=t.toLowerCase();for(var n=(t=t.replace(this.underbar," ")).split(" "),r=0;r<n.length;r++){for(var i=n[r].split("-"),o=0;o<i.length;o++)this.nonTitlecasedWords.indexOf(i[o].toLowerCase())<0&&(i[o]=this.capitalize(i[o]));n[r]=i.join("-")}return t=(t=n.join(" ")).substring(0,1).toUpperCase()+t.substring(1),this.str=t,!0===this.chain?this:t}},{key:"demodulize",value:function(t){var e=(t=t||this.str).split("::");return t=e[e.length-1],this.str=t,!0===this.chain?this:t}},{key:"tableize",value:function(t){return t=t||this.str,t=this.pluralize(this.underscore(t)),this.str=t,!0===this.chain?this:t}},{key:"classify",value:function(t){return t=t||this.str,t=this.singularize(this.camelize(t)),this.str=t,!0===this.chain?this:t}},{key:"foreignKey",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=t||this.str,t=this.underscore(this.demodulize(t))+(e?"":"_")+"id",this.str=t,!0===this.chain?this:t}},{key:"ordinalize",value:function(t){for(var e=(t=t||this.str).split(" "),n=0;n<e.length;n++){var r=parseInt(e[n]);if(isNaN(r)){var i=e[n].substring(e[n].length-2),o=e[n].substring(e[n].length-1),a="th";"11"!=i&&"12"!=i&&"13"!=i&&("1"===o?a="st":"2"===o?a="nd":"3"===o&&(a="rd")),e[n]+=a}}return t=e.join(" "),this.str=t,!0===this.chain?this:t}}],[{key:"invoke",value:function(){var e=Object.values(arguments),n=new t(null,!1),r=arguments[0];return e.shift(),"function"==typeof n[r]?n[r].apply(n,e):null}}])}(),et=function(){var t=["pluralize"].concat(Array.prototype.slice.call(arguments));return tt.invoke.apply(tt,G(t))},nt=function(){var t=["singularize"].concat(Array.prototype.slice.call(arguments));return tt.invoke.apply(tt,G(t))},rt=function(){var t=["classify"].concat(Array.prototype.slice.call(arguments));return tt.invoke.apply(tt,G(t))},it={resources:{},adapters:{},storse:{},actions:{}};function ot(t,e,n){var r=et(t);it[r]||(it[r]={}),it[r][e]=n}function at(t,e){var n=et(t);if(!it[n])throw new Error("Unknown type: ".concat(nt(t)));if(!it[n][e])throw new Error("No ".concat(nt(t)," named '").concat(e,"' registered."));for(var r=it[n][e],i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return D(r,o)}function ut(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return at.apply(void 0,[t,rt(e)].concat(r))}function st(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return ut.apply(void 0,["resource",rt(t)].concat(n))}N((function t(){return L(this,t),this.lookup.apply(this,arguments)}),[{key:"lookup",value:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return at.apply(void 0,[t,e].concat(r))}}]);var ct=Array.isArray,lt=6e4;function ht(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(ct(t))if(r.length<=lt)t.splice.apply(t,[e,n].concat(G(r)));else{t.splice(e,n);for(var i=0;i<r.length;i+=lt){var o=r.slice(i,i+lt);t.splice.apply(t,[e+i,0].concat(G(o)))}}else dt(t)&&t.replace(e,n,r)}function ft(t){return t}function dt(t){return t instanceof bt}function vt(t,e){return ct(t)?t[e]:dt(t)?t.objectAt(e):null}function pt(t,e){return 2===arguments.length?function(n){return e===n[t]}:function(e){return Boolean(e[t])}}function yt(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.length,i=n;i<r;i++)if(e(vt(t,i),i,t))return i;return-1}function gt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=t.length;return n<0&&(n+=i),yt(t,r&&e!=e?function(t){return t!=t}:function(t){return t===e},n)}function mt(t,e,n){return ht(t,e,0,[n]),n}function wt(){return D(bt,Array.prototype.slice.call(arguments))}var bt=function(){function t(){return L(this,t),E(ct(arguments[0])?j(this,t,G(arguments[0])):j(this,t,arguments))}return q(t,Z(Array)),N(t,[{key:"notEmpty",get:function(){return this.length>0}},{key:"empty",get:function(){return 0===this.length}},{key:"first",get:function(){return vt(this,0)}},{key:"last",get:function(){return vt(this,this.length-1)}},{key:"replace",value:function(t,e){return ht(this,t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]),this}},{key:"objectsAt",value:function(t){var e=this;return t.map((function(t){return vt(e,t)}))}},{key:"objectAt",value:function(t){return vt(this,t)}},{key:"indexOf",value:function(t,e){return gt(this,t,e,!1)}},{key:"lastIndexOf",value:function(t,e){var n=this.length;(void 0===e||e>=n)&&(e=n-1),e<0&&(e+=n);for(var r=e;r>=0;r--)if(vt(this,r)===t)return r;return-1}},{key:"includes",value:function(t,e){return-1!==gt(this,t,e,!0)}},{key:"findBy",value:function(){return-1===(t=yt(this,pt.apply(void 0,arguments).bind(undefined),0))?void 0:vt(this,t);var t}},{key:"findIndexBy",value:function(){return yt(this,pt.apply(void 0,arguments))}},{key:"isEvery",value:function(){return t=pt.apply(void 0,arguments),e=t.bind(undefined),-1===yt(this,(function(t,n,r){return!e(t,n,r)}),0);var t,e}},{key:"isAny",value:function(){return-1!==yt(this,pt.apply(void 0,arguments).bind(undefined),0)}},{key:"invoke",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=[];return this.forEach((function(e){var r;return i.push(null===(r=e[t])||void 0===r?void 0:r.call.apply(r,[e].concat(n)))})),i}},{key:"toArray",value:function(){return this.map((function(t){return t}))}},{key:"compact",value:function(){return this.filter((function(t){return null!=t}))}},{key:"sortBy",value:function(){var t=arguments;return this.sort((function(e,n){var r,i=_(t);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=e[o],u=n[o],s=compare(a,u);if(s)return s}}catch(t){i.e(t)}finally{i.f()}return 0}))}},{key:"uniqBy",value:function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft,n=[],r=new Set,i="function"==typeof e?e:function(t){return get(t,e)};return t.forEach((function(t){var e=i(t);r.has(e)||(r.add(e),n.push(t))})),n}(this,t)}},{key:"without",value:function(t){if(!this.includes(t))return this;var e=t==t?function(e){return e!==t}:function(t){return t==t};return this.filter(e)}},{key:"clear",value:function(){var t=this.length;return 0===t||this.replace(0,t,[]),this}},{key:"insertAt",value:function(t,e){return mt(this,t,e),this}},{key:"replaceAt",value:function(t,e){return this.replace(t,1,[e])}},{key:"removeAt",value:function(t,e){return function(t,e){return ht(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,[]),t}(this,t,e)}},{key:"pushObject",value:function(t){return this.insertAt(this.length,t)}},{key:"pushObjects",value:function(t){return this.replace(this.length,0,t),this}},{key:"popObject",value:function(){var t=this.length;if(0===t)return null;var e=vt(this,t-1);return this.removeAt(t-1,1),e}},{key:"shiftObject",value:function(){if(0===this.length)return null;var t=vt(this,0);return this.removeAt(0),t}},{key:"unshiftObject",value:function(t){return mt(this,0,t)}},{key:"unshiftObjects",value:function(t){return this.replace(0,0,t),this}},{key:"reverseObjects",value:function(){var t=this.length;if(0===t)return this;var e=this.toArray().reverse();return this.replace(0,t,e),this}},{key:"setObjects",value:function(t){if(0===t.length)return this.clear();var e=this.length;return this.replace(0,e,t),this}},{key:"removeObject",value:function(t){for(var e=this.length||0;--e>=0;)vt(this,e)===t&&this.removeAt(e);return this}},{key:"removeObjects",value:function(t){for(var e=t.length-1;e>=0;e--)this.removeObject(t[e]);return this}},{key:"addObject",value:function(t){return this.includes(t)||this.pushObject(t),this}},{key:"addObjects",value:function(t){var e=this;return t.forEach((function(t){return e.addObject(t)})),this}}])}();function kt(t){var e=null==t;if(e)return e;if("number"==typeof t.size)return!t.size;var n=J(t);if("object"===n){var r=t.size;if("number"==typeof r)return!r}if("number"==typeof t.length&&"function"!==n)return!t.length;if("object"===n){var i=t.length;if("number"==typeof i)return!i}return!1}function xt(){var t,e,n;return!("undefined"==typeof process||"object"!==J(null===(t=process)||void 0===t?void 0:t.env)&&-1===(null===(e=process.release)||void 0===e||null===(e=e.name)||void 0===e?void 0:e.search(/node|io.js/))||"undefined"!=typeof window&&"ReactNative"!==(null===(n=window)||void 0===n||null===(n=n.navigator)||void 0===n?void 0:n.product))}function Et(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return xt()?ut("adapter","NodeAdapter",t):ut("adapter","BrowserAdapter",t)}N((function t(e){L(this,t),this.place=e,this.geometry=null==e?void 0:e.geometry,this.components=this.parseComponents(),this.attributes=this.parseProperties()}),[{key:"parse",value:function(){this.parseComponents(),this.parseProperties()}},{key:"parseComponents",value:function(){var t;return((null===(t=this.place)||void 0===t?void 0:t.address_components)||[]).reduce((function(t,e){return e.types.forEach((function(n){t[n]=e})),t}),{})}},{key:"parseProperties",value:function(){var t,e={streetNumber:this.get("street_number"),streetName:this.get("route"),coordinates:null!==(t=this.geometry)&&void 0!==t&&t.location?Object.values(this.geometry.location):[0,0],city:this.or(["locality","sublocality","sublocality_level_1","neighborhood","administrative_area_level_3","administrative_area_level_2"]),county:this.get("administrative_area_level_2"),stateShort:this.get("administrative_area_level_1",!0),stateLong:this.get("administrative_area_level_1"),countryShort:this.get("country",!0),country:this.get("country",!0),countryLong:this.get("country"),postalCode:this.get("postal_code")};return e.address=[e.streetNumber,e.streetName].filter(Boolean).join(" "),e}},{key:"all",value:function(){return this.attributes}},{key:"or",value:function(){var t,e=_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(ct(n)){var r=n[0],i=n[1];if(this.has(r))return this.get(r,i)}else if(this.has(n))return this.get(n)}}catch(t){e.e(t)}finally{e.f()}return null}},{key:"has",value:function(t){return t in this.components}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t in this.components?e?this.components[t].short_name:this.components[t].long_name:null}},{key:"setAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.attributes=$($({},this.attributes),t),this}},{key:"setAttribute",value:function(t,e){return this.attributes[t]=e,this}},{key:"getAttribute",value:function(t){return this.attributes[t]||null}}]);var At=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;L(this,t),this.type="Point",this.coordinates=[n,e]}return N(t,[{key:"latitude",get:function(){return this.coordinates[1]}},{key:"longitude",get:function(){return this.coordinates[0]}},{key:"lat",value:function(){return this.latitude}},{key:"lng",value:function(){return this.longitude}},{key:"serialize",value:function(){return{type:"Point",coorindates:[this.lat(),this.lng()]}}},{key:"toJson",value:function(){return this.serialize()}},{key:"toString",value:function(){return"(".concat(this.latitude,", ").concat(this.longitude,")")}}],[{key:"fromGeoJson",value:function(e){var n=Y(e.coordinates,2),r=n[0];return new t(n[1],r)}}])}();function Ot(t,e){var n=t();return Array.isArray(n)||"object"===J(n)?St(n,e):null}function St(t,e){var n,r=t,i=J(t),o="object"===i,a="function"===i,u=Array.isArray(t),s="string"===J(e)&&e.includes(".")?e.split("."):[e];if(u||o){for(var c=0;c<s.length;c++){if(r&&void 0===r[s[c]])return null;if(r){if("object"===J(n=r=r[s[c]])&&!kt(null==n?void 0:n.attributes)&&"object"===J(null==n?void 0:n.attributes)&&void 0!==s[c+1]){var l=s.slice(c+1).join(".");return St(r.attributes,l)}if("function"==typeof r)return Ot(r,s.slice(c+1).join("."))}}return r}if(a)return Ot(t,e)}function Tt(t,e,n){var r=t,i="object"===J(t),o=Array.isArray(t),a="string"===J(e)&&e.includes(".")?e.split("."):[e],u=a.length;if(o||i){for(var s=0;s<u-1;s++)r[a[s]]||(r[a[s]]={}),r=r[a[s]];r[a[u-1]]=n}return n}function Rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.actions=ct(e)?e:[e],!ct(e))return e instanceof Pt&&e.extend(t),t;var n,r=_(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.extendActions(i)}}catch(t){r.e(t)}finally{r.f()}}var Pt=N((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;L(this,t),this.actions=e,this.bind=n}),[{key:"extend",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.bind;if(!t)return this;if(null!=this&&this.actions&&"object"===J(this.actions))for(var e in this.actions){var n=this.actions[e];Tt(t,e,"function"==typeof n?n.bind(t):n)}return this}}]);function jt(t){return t instanceof Lt}var Lt=N((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};L(this,t),this.attributes=e,this.dirtyAttributes={},this.changes={},this.isLoading=!1,this.isSaving=!1,this.isDestroying=!1,this.isReloading=!1,this.resource=r,this.options=i,this.version=i.version||"v1",this.setAdapter(n)}),[{key:"setAdapter",value:function(t){var e;return this.adapter=t,this.store=function(){return at.apply(void 0,["store","Store"].concat(Array.prototype.slice.call(arguments)))}(this.resource,t,{onAfterFetch:this.syncAttributes.bind(this),actions:null===(e=this.options)||void 0===e?void 0:e.actions}),this}},{key:"id",get:function(){return this.getAttribute("id")}},{key:"create",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.mergeAttributes(e);return this.setFlags(["isLoading","isSaving"]),this.store.create(n).then((function(e){return t.setFlags(["isLoading","isSaving"],!1),e}))}},{key:"update",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setFlags(["isLoading","isSaving"]),this.store.update(this.attributes.id,e).then((function(e){return t.setFlags(["isLoading","isSaving"],!1),e}))}},{key:"destroy",value:function(){var t=this;return this.setFlags(["isLoading","isDestroying"]),this.store.destroy(this.attributes.id).then((function(e){return t.setFlags(["isLoading","isDestroying"],!1),e}))}},{key:"reload",value:function(){var t=this;return this.setFlags(["isLoading","isReloading"]),this.store.findRecord(this.attributes.id).then((function(e){return t.reset(),e}))}},{key:"setFlags",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=["isLoading","isSaving","isReloading","isDestroying"],r=0;r<t.length;r++){var i=t[r];if("string"!=typeof i||!n.includes(i))throw new Error("".concat(i," is not a valid flag!"));this[i]=e}return this}},{key:"reset",value:function(){return this.dirtyAttributes={},this.changes={},this.isLoading=!1,this.isSaving=!1,this.isReloading=!1,this}},{key:"empty",value:function(){return this.reset(),this.attribues={},this}},{key:"save",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getAttributes();return kt(this.id)?this.create(e):!0===t.onlyDirty?this.savedirty():this.update(e)}},{key:"saveDirty",value:function(){for(var t=Object.keys(this.dirtyAttributes),e={},n=0;n<t.length;n++){var r=t[n];e[r]=this.getAttribute(r)}return this.update(e)}},{key:"meta",get:function(){return this.getAttribute("meta",{})}},{key:"createdAt",get:function(){return this.isAttributeFilled("created_at")?new Date(this.getAttribute("created_at")):null}},{key:"updatedAt",get:function(){return this.isAttributeFilled("updated_at")?new Date(this.getAttribute("updated_at")):null}},{key:"isLoaded",get:function(){return this.hasAttributes(["created_at","id"])}},{key:"isEmpty",get:function(){return 0===Object.values(null==this?void 0:this.attributes).length}},{key:"isNew",get:function(){return!this.id}},{key:"isSaved",get:function(){return!this.isNew&&this.isLoaded}},{key:"isDeleted",get:function(){return this.hasAttributes(["deleted","time"])}},{key:"eachAttribute",value:function(t){var e,n=this;return"function"!=typeof t||Object.keys(null!==(e=null==this?void 0:this.attributes)&&void 0!==e?e:{}).forEach((function(e){var r=n.getAttribute(e);t.call(n,r,e)})),this}},{key:"changes",value:function(){return this.changes}},{key:"getDirtyAttributes",value:function(){return this.dirtyAttributes}},{key:"isDirty",value:function(t){return t in this.dirtyAttributes}},{key:"hasDirtyAttributes",value:function(){var t;return Object.keys(null!==(t=null==this?void 0:this.dirtyAttributes)&&void 0!==t?t:{}).length>0}},{key:"mutate",value:function(t,e){this.attributes[t]=e}},{key:"setAttribute",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===n&&"object"===J(t))return this.setAttributes(t);var r=null!==(e=null==this?void 0:this.attributes[t])&&void 0!==e?e:null;return Tt(this.attributes,t,n),Tt(this.dirtyAttributes,t,r),ct(null==this?void 0:this.changes[t])||(this.changes[t]=[]),this.changes[t].push({property:t,previousValue:r,value:n,changedAt:new Date}),this}},{key:"setAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var e in t)this.setAttribute(e,t[e]);return this}},{key:"getAttribute",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=St(null!==(e=null==this?void 0:this.attributes)&&void 0!==e?e:{},t);return void 0===r?n:r}},{key:"hasAttribute",value:function(t){if(ct(t)){var e,n=t,r=Object.keys(null!==(e=this.attributes)&&void 0!==e?e:{});return n.every((function(t){return r.includes(t)}))}return!(null==this||!this.attributes)&&t in this.attributes}},{key:"hasAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.hasAttribute(t)}},{key:"isAttributeFilled",value:function(t){var e=this;return ct(t)?this.hasAttribute(t)&&t.every((function(t){return!kt(e.getAttribute(t))})):this.hasAttribute(t)&&!kt(this.getAttribute(t))}},{key:"getAttributes",value:function(t){var e={};if(null==t)return this.getAttributes(Object.keys(this.attributes));if("string"==typeof t)return this.getAttribute(Array.prototype.slice.call(arguments));if(!ct(t))throw new Error("No attribute properties provided!");var n,r=_(t);try{for(r.s();!(n=r.n()).done;){var i,o,a=n.value;if("string"==typeof a){var u=this.getAttribute(a);"object"!==J(null===(i=u)||void 0===i?void 0:i.attributes)||ct(null===(o=u)||void 0===o?void 0:o.attributes)||(u=u.attributes),e[a]=u}}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"serialize",value:function(){return this.getAttributes()}},{key:"mergeAttributes",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null!==(t=null==this?void 0:this.attributes)&&void 0!==t?t:{};return this.attributes=$($({},n),e),this.attributes}},{key:"syncAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.attributes=t}}]);ot("resource","Resource",Lt);var Dt=function(){return N((function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};L(this,t),this.resource=e,this.adapter=n||Et(),this.namespace=et(e),this.storage=wt(),this.options=r,this.extendActions(r.actions)}),[{key:"extendActions",value:function(){return Rt(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])}},{key:"deposit",value:function(t){return t}},{key:"serialize",value:function(t){return ut("resource",rt(this.resource),t,this.adapter)}},{key:"afterFetch",value:function(t){return function(t,e){if("function"==typeof t.options.onAfterFetch&&t.options.onAfterFetch(e),ct(e)){var n,r=[],i=_(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(t.afterFetch(o))}}catch(t){i.e(t)}finally{i.f()}return wt.apply(void 0,r)}var a=t.serialize(e);return t.deposit(a)}(this,t)}},{key:"create",value:(a=R(U().mark((function t(){var e,n,r,i=arguments;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1&&void 0!==i[1]?i[1]:{},t.next=4,this.adapter.post("".concat(this.namespace),e,n);case 4:return r=t.sent,t.abrupt("return",this.afterFetch(r));case 6:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"update",value:(o=R(U().mark((function t(e){var n,r,i,o=arguments;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=o.length>2&&void 0!==o[2]?o[2]:{},t.next=4,this.adapter.put("".concat(this.namespace,"/").concat(e),n,r);case 4:return i=t.sent,t.abrupt("return",this.afterFetch(i));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"findRecord",value:(i=R(U().mark((function t(e){var n,r,i=arguments;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},t.next=3,this.adapter.get("".concat(this.namespace,"/").concat(e),{},n);case 3:return r=t.sent,t.abrupt("return",this.afterFetch(r));case 5:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"findAll",value:(r=R(U().mark((function t(){var e,n,r=arguments;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},t.next=3,this.adapter.get("".concat(this.namespace),{},e);case 3:return n=t.sent,t.abrupt("return",this.afterFetch(n));case 5:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"query",value:(n=R(U().mark((function t(){var e,n,r,i=arguments;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},n=i.length>1&&void 0!==i[1]?i[1]:{},t.next=4,this.adapter.get("".concat(this.namespace),e,n);case 4:return r=t.sent,t.abrupt("return",this.afterFetch(r));case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"queryRecord",value:(e=R(U().mark((function t(){var e,n,r,i=arguments;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},(e=i.length>0&&void 0!==i[0]?i[0]:{}).single=!0,t.next=5,this.adapter.get("".concat(this.namespace),e,n);case 5:return r=t.sent,t.abrupt("return",this.afterFetch(r));case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"destroy",value:(t=R(U().mark((function t(e){var n,r,i,o=arguments;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},r=jt(e)?e.getAttribute("id"):e,t.next=4,this.adapter.delete("".concat(this.namespace,"/").concat(r),{},n);case 4:return i=t.sent,t.abrupt("return",this.afterFetch(i));case 6:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})}]);var t,e,n,r,i,o,a}();ot("store","Store",Dt);var Ct=new Pt({getDistanceAndTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.get("".concat(this.namespace,"/").concat(t,"/distance-and-time"),e,n)},getNextActivity:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.get("".concat(this.namespace,"/").concat(t,"/next-activity"),e,n)},dispatch:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("".concat(this.namespace,"/").concat(t,"/dispatch"),e,n).then(this.afterFetch.bind(this))},start:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("".concat(this.namespace,"/").concat(t,"/start"),e,n).then(this.afterFetch.bind(this))},updateActivity:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("".concat(this.namespace,"/").concat(t,"/update-activity"),e,n).then(this.afterFetch.bind(this))},setDestination:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return jt(e)&&(e=e.id),this.adapter.post("".concat(this.namespace,"/").concat(t,"/set-destination/").concat(e),n,r).then(this.afterFetch.bind(this))},captureQrCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return jt(e)&&(e=e.id),this.adapter.post("".concat(this.namespace,"/").concat(t,"/capture-qr").concat(e?"/"+e:""),n,r)},captureSignature:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return jt(e)&&(e=e.id),this.adapter.post("".concat(this.namespace,"/").concat(t,"/capture-signature").concat(e?"/"+e:""),n,r)},complete:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("".concat(this.namespace,"/").concat(t,"/complete"),e,n).then(this.afterFetch.bind(this))},cancel:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.delete("".concat(this.namespace,"/").concat(t,"/cancel"),e,n).then(this.afterFetch.bind(this))}}),Nt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"order",$({actions:Ct},r)])}return q(t,Lt),N(t,[{key:"getDistanceAndTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.getDistanceAndTime(this.id,t,e)}},{key:"dispatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.dispatch(this.id,t,e)}},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.start(this.id,t,e)}},{key:"setDestination",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.store.setDestination(this.id,t,e,n)}},{key:"captureQrCode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.store.captureQrCode(this.id,t,e,n)}},{key:"captureSignature",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.store.captureSignature(this.id,t,e,n)}},{key:"getNextActivity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.getNextActivity(this.id,t,e)}},{key:"updateActivity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.updateActivity(this.id,t,e)}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.cancel(this.id,t,e)}},{key:"complete",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.complete(this.id,t,e)}},{key:"isDispatched",get:function(){return null!==this.getAttribute("dispatched_at")}},{key:"isNotDispatched",get:function(){return null==this.getAttribute("dispatched_at")}},{key:"isStarted",get:function(){return null!==this.getAttribute("started_at")}},{key:"isNotStarted",get:function(){return null==this.getAttribute("started_at")}},{key:"isCompleted",get:function(){return"completed"==this.getAttribute("status")}},{key:"isCanceled",get:function(){return"canceled"==this.getAttribute("status")}},{key:"isEnroute",get:function(){return"driver_enroute"==this.getAttribute("status")||"enroute"===this.getAttribute("status")}},{key:"isInProgress",get:function(){return this.isStarted&&!this.isCanceled&&!this.isCompleted}},{key:"scheduledAt",get:function(){return this.isAttributeFilled("scheduled_at")?new Date(this.getAttribute("scheduled_at")):null}},{key:"startedAt",get:function(){return this.isAttributeFilled("started_at")?new Date(this.getAttribute("started_at")):null}},{key:"dispatchedAt",get:function(){return this.isAttributeFilled("dispatched_at")?new Date(this.getAttribute("dispatched_at")):null}},{key:"status",get:function(){return this.getAttribute("status")}}])}();ot("resource","Order",Nt);var _t=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"payload",r])}return q(t,Lt),N(t,[{key:"attach",value:function(t){}},{key:"entities",get:function(){var t=this;return new Collection(this.entities.map((function(e){return st("Entity",e,t.adapter)})))}},{key:"dropoff",get:function(){return this.dropoff?st("Place",this.dropoff,this.adapter):null}},{key:"pickup",get:function(){return this.pickup?st("Place",this.pickup,this.adapter):null}},{key:"waypoints",get:function(){var t=this;return new Collection(this.waypoints.map((function(e){return st("Waypoint",e,t.adapter)})))}}])}();ot("resource","Payload",_t);var Ft=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"entity",r])}return q(t,Lt),N(t)}();ot("resource","Entity",Ft);var Mt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"place",r])}return q(t,Lt),N(t,[{key:"latitude",get:function(){var t;return null===(t=this.getAttribute("location",new At))||void 0===t?void 0:t.coordinates[1]}},{key:"longitude",get:function(){var t;return null===(t=this.getAttribute("location",new At))||void 0===t?void 0:t.coordinates[0]}},{key:"coordinates",get:function(){return[this.latitude,this.longitude]}},{key:"setOwner",value:function(t){return jt(t)&&this.setAttribute("owner",t.id),"string"==typeof t&&this.setAttribute("owner",t),this}}],[{key:"fromGoogleAddress",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Y(e.getAttribute("coordinates"),2),o=i[0],a=i[1];return new t({name:null,address:e.getAttribute("address"),location:new At(o,a),street1:e.getAttribute("address"),street2:null,city:e.getAttribute("city"),province:e.getAttribute("stateLong"),postal_code:e.getAttribute("postalCode"),neighborhood:e.get("neighborhood"),district:e.getAttribute("county"),building:e.get("building"),country:e.getAttribute("countryShort"),phone:null,security_access_code:null},n,r)}}])}();ot("resource","Place",Mt);var qt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"waypoint",r])}return q(t,Mt),N(t)}();ot("resource","Waypoint",qt);var Ht=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"tracking-status",r])}return q(t,Lt),N(t)}();ot("resource","TrackingStatus",Ht);var It=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"vehicle",r])}return q(t,Lt),N(t)}();ot("resource","Vehicle",It);var Bt=new Pt({current:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.adapter.get("".concat(this.namespace,"/current"),t,e)}}),zt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"organization",$({actions:Bt},r)])}return q(t,Lt),N(t)}();ot("resource","Organization",zt);var $t=function(t,e){return ct(t)?t.map((function(t){return new zt(t,e)})):new zt(t,e)},Ut=new Pt({login:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(function(){return/^[+]?[\s./0-9]*[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/g.test(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}(t))return this.adapter.post("drivers/login-with-sms",{phone:t});if(!e)throw new Error("Login requires password!");return this.adapter.post("drivers/login",$({identity:t,password:e},n)).then(this.afterFetch.bind(this))},verifyCode:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("drivers/verify-code",$({identity:t,code:e},n)).then(this.afterFetch.bind(this))},track:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("drivers/".concat(t,"/track"),e,n).then(this.afterFetch.bind(this))},listOrganizations:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.get("drivers/".concat(t,"/organizations"),n,r).then((function(t){return $t(t,e.adapter)}))},switchOrganization:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("drivers/".concat(t,"/switch-organization"),n,r).then((function(t){return $t(t,e.adapter)}))},currentOrganization:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.get("drivers/".concat(t,"/current-organization"),n,r).then((function(t){return $t(t,e.adapter)}))},retrieve:function(t){return this.findRecord(t)},syncDevice:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("drivers/".concat(t,"/register-device"),e,n)}}),Wt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"driver",$({actions:Ut},r)])}return q(t,Lt),N(t,[{key:"token",get:function(){return this.getAttribute("token")}},{key:"isOnline",get:function(){return!0===this.getAttribute("online")}},{key:"latitude",get:function(){var t;return null===(t=this.getAttribute("location",new At))||void 0===t?void 0:t.coordinates[1]}},{key:"longitude",get:function(){var t;return null===(t=this.getAttribute("location",new At))||void 0===t?void 0:t.coordinates[0]}},{key:"coordinates",get:function(){return[this.latitude,this.longitude]}},{key:"track",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.track(this.id,t,e)}},{key:"syncDevice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.syncDevice(this.id,t,e)}},{key:"listOrganizations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.listOrganizations(this.id,t,e)}},{key:"switchOrganization",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.switchOrganization(this.id,{next:t},e)}},{key:"currentOrganization",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.currentOrganization(this.id,t,e)}}])}();ot("resource","Driver",Wt);var Yt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"vendor",r])}return q(t,Lt),N(t)}();ot("resource","Vendor",Yt);var Gt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"contact",r])}return q(t,Lt),N(t)}();ot("resource","Contact",Gt);var Qt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"zone",r])}return q(t,Lt),N(t)}();ot("resource","Zone",Qt);var Jt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"service-area",r])}return q(t,Lt),N(t)}();ot("resource","ServiceArea",Jt);var Xt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"service-rate",r])}return q(t,Lt),N(t)}();ot("resource","ServiceRate",Xt);var Kt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),j(this,t,[e,n,"service-quote",r])}return q(t,Lt),N(t,[{key:"fromPreliminary",value:function(){}},{key:"fromPayload",value:function(){}}])}();ot("resource","ServiceQuote",Kt);var Vt=N((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L(this,t),this.version=e.version||"v1",this.host=e.host||null,this.namespace=e.namespace||null,this.headers=e.headers||{}}));ot("adapter","Adapter",Vt);var Zt=function(){function t(e){var n;return L(this,t),(n=j(this,t,[e])).setHeaders({Authorization:"Bearer ".concat(e.publicKey),"Content-Type":"application/json","User-Agent":"@fleetbase/sdk;browser"}),n}return q(t,Vt),N(t,[{key:"setHeaders",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.headers=$($({},this.headers),t),this}},{key:"parseJSON",value:function(t){return new Promise((function(e,n){t.json().then((function(n){e({statusText:t.statusText,status:t.status,ok:t.ok,json:n})})).catch((function(){n(new Error("Oops! Something went wrong when handling your request."))}))}))}},{key:"request",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((function(o,a){fetch(i.url||"".concat(e.host,"/").concat(e.namespace,"/").concat(t),$({method:n,mode:i.mode||"cors",headers:new Headers($($({},e.headers||{}),i.headers||{}))},r)).then(e.parseJSON).then((function(t){if(t.ok)return o(t.json);a(new Error(t.json.errors?t.json.errors[0]:t.statusText))})).catch((function(t){a(t)}))}))}},{key:"get",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=kt(e=n)||"string"==typeof e&&!1===/\S/.test(e)?"":new URLSearchParams(n).toString();return this.request("".concat(t).concat(i?"?".concat(i):""),"GET",{},r)}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(t,"POST",{body:JSON.stringify(e)},n)}},{key:"put",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(t,"PUT",{body:JSON.stringify(e)},n)}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(t,"DELETE",{},e)}},{key:"patch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(t,"PATCH",{body:JSON.stringify(e)},n)}}])}();function te(t,e){return function(){return t.apply(e,arguments)}}ot("adapter","BrowserAdapter",Zt);var ee,ne=Object.prototype.toString,re=Object.getPrototypeOf,ie=(ee=Object.create(null),function(t){var e=ne.call(t);return ee[e]||(ee[e]=e.slice(8,-1).toLowerCase())}),oe=function(t){return t=t.toLowerCase(),function(e){return ie(e)===t}},ae=function(t){return function(e){return J(e)===t}},ue=Array.isArray,se=ae("undefined"),ce=oe("ArrayBuffer"),le=ae("string"),he=ae("function"),fe=ae("number"),de=function(t){return null!==t&&"object"===J(t)},ve=function(t){if("object"!==ie(t))return!1;var e=re(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},pe=oe("Date"),ye=oe("File"),ge=oe("Blob"),me=oe("FileList"),we=oe("URLSearchParams"),be=Y(["ReadableStream","Request","Response","Headers"].map(oe),4),ke=be[0],xe=be[1],Ee=be[2],Ae=be[3];function Oe(t,e){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,o=void 0!==i&&i;if(null!=t)if("object"!==J(t)&&(t=[t]),ue(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{var a,u=o?Object.getOwnPropertyNames(t):Object.keys(t),s=u.length;for(n=0;n<s;n++)a=u[n],e.call(null,t[a],a,t)}}function Se(t,e){e=e.toLowerCase();for(var n,r=Object.keys(t),i=r.length;i-- >0;)if(e===(n=r[i]).toLowerCase())return n;return null}var Te,Re,Pe,je,Le,De="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Ce=function(t){return!se(t)&&t!==De},Ne=(Te="undefined"!=typeof Uint8Array&&re(Uint8Array),function(t){return Te&&t instanceof Te}),_e=oe("HTMLFormElement"),Fe=function(){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Me=oe("RegExp"),qe=function(t,e){var n=Object.getOwnPropertyDescriptors(t),r={};Oe(n,(function(n,i){var o;!1!==(o=e(n,i,t))&&(r[i]=o||n)})),Object.defineProperties(t,r)},He="abcdefghijklmnopqrstuvwxyz",Ie="0123456789",Be={DIGIT:Ie,ALPHA:He,ALPHA_DIGIT:He+He.toUpperCase()+Ie},ze=oe("AsyncFunction"),$e=(Re="function"==typeof setImmediate,Pe=he(De.postMessage),Re?setImmediate:Pe?(je="axios@".concat(Math.random()),Le=[],De.addEventListener("message",(function(t){var e=t.source,n=t.data;e===De&&n===je&&Le.length&&Le.shift()()}),!1),function(t){Le.push(t),De.postMessage(je,"*")}):function(t){return setTimeout(t)}),Ue="undefined"!=typeof queueMicrotask?queueMicrotask.bind(De):"undefined"!=typeof process&&process.nextTick||$e,We={isArray:ue,isArrayBuffer:ce,isBuffer:function(t){return null!==t&&!se(t)&&null!==t.constructor&&!se(t.constructor)&&he(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:function(t){var e;return t&&("function"==typeof FormData&&t instanceof FormData||he(t.append)&&("formdata"===(e=ie(t))||"object"===e&&he(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&ce(t.buffer)},isString:le,isNumber:fe,isBoolean:function(t){return!0===t||!1===t},isObject:de,isPlainObject:ve,isReadableStream:ke,isRequest:xe,isResponse:Ee,isHeaders:Ae,isUndefined:se,isDate:pe,isFile:ye,isBlob:ge,isRegExp:Me,isFunction:he,isStream:function(t){return de(t)&&he(t.pipe)},isURLSearchParams:we,isTypedArray:Ne,isFileList:me,forEach:Oe,merge:function t(){for(var e=(Ce(this)&&this||{}).caseless,n={},r=function(r,i){var o=e&&Se(n,i)||i;ve(n[o])&&ve(r)?n[o]=t(n[o],r):ve(r)?n[o]=t({},r):ue(r)?n[o]=r.slice():n[o]=r},i=0,o=arguments.length;i<o;i++)arguments[i]&&Oe(arguments[i],r);return n},extend:function(t,e,n){return Oe(e,(function(e,r){n&&he(e)?t[r]=te(e,n):t[r]=e}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),t},trim:function(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n,r){var i,o,a,u={};if(e=e||{},null==t)return e;do{for(o=(i=Object.getOwnPropertyNames(t)).length;o-- >0;)a=i[o],r&&!r(a,t,e)||u[a]||(e[a]=t[a],u[a]=!0);t=!1!==n&&re(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:ie,kindOfTest:oe,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return-1!==r&&r===n},toArray:function(t){if(!t)return null;if(ue(t))return t;var e=t.length;if(!fe(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},forEachEntry:function(t,e){for(var n,r=(t&&t[Symbol.iterator]).call(t);(n=r.next())&&!n.done;){var i=n.value;e.call(t,i[0],i[1])}},matchAll:function(t,e){for(var n,r=[];null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:_e,hasOwnProperty:Fe,hasOwnProp:Fe,reduceDescriptors:qe,freezeMethods:function(t){qe(t,(function(e,n){if(he(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=t[n];he(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(t,e){var n={},r=function(t){t.forEach((function(t){n[t]=!0}))};return ue(t)?r(t):r(String(t).split(e)),n},toCamelCase:function(t){return t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(t,e){return null!=t&&Number.isFinite(t=+t)?t:e},findKey:Se,global:De,isContextDefined:Ce,ALPHABET:Be,generateString:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be.ALPHA_DIGIT,n="",r=e.length;t--;)n+=e[Math.random()*r|0];return n},isSpecCompliantForm:function(t){return!!(t&&he(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:function(t){var e=new Array(10),n=function(t,r){if(de(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[r]=t;var i=ue(t)?[]:{};return Oe(t,(function(t,e){var o=n(t,r+1);!se(o)&&(i[e]=o)})),e[r]=void 0,i}}return t};return n(t,0)},isAsyncFn:ze,isThenable:function(t){return t&&(de(t)||he(t))&&he(t.then)&&he(t.catch)},setImmediate:$e,asap:Ue};function Ye(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}We.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:We.toJSONObject(this.config),code:this.code,status:this.status}}});var Ge=Ye.prototype,Qe={};function Je(t){return We.isPlainObject(t)||We.isArray(t)}function Xe(t){return We.endsWith(t,"[]")?t.slice(0,-2):t}function Ke(t,e,n){return t?t.concat(e).map((function(t,e){return t=Xe(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(t){Qe[t]={value:t}})),Object.defineProperties(Ye,Qe),Object.defineProperty(Ge,"isAxiosError",{value:!0}),Ye.from=function(t,e,n,r,i,o){var a=Object.create(Ge);return We.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(function(t){return"isAxiosError"!==t})),Ye.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};var Ve=We.toFlatObject(We,{},null,(function(t){return/^is[A-Z]/.test(t)}));function Ze(t,e,n){if(!We.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;var r=(n=We.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!We.isUndefined(e[t])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,u=(n.Blob||"undefined"!=typeof Blob&&Blob)&&We.isSpecCompliantForm(e);if(!We.isFunction(i))throw new TypeError("visitor must be a function");function s(t){if(null===t)return"";if(We.isDate(t))return t.toISOString();if(!u&&We.isBlob(t))throw new Ye("Blob is not supported. Use a Buffer instead.");return We.isArrayBuffer(t)||We.isTypedArray(t)?u&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,i){var u=t;if(t&&!i&&"object"===J(t))if(We.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(We.isArray(t)&&function(t){return We.isArray(t)&&!t.some(Je)}(t)||(We.isFileList(t)||We.endsWith(n,"[]"))&&(u=We.toArray(t)))return n=Xe(n),u.forEach((function(t,r){!We.isUndefined(t)&&null!==t&&e.append(!0===a?Ke([n],r,o):null===a?n:n+"[]",s(t))})),!1;return!!Je(t)||(e.append(Ke(i,n,o),s(t)),!1)}var l=[],h=Object.assign(Ve,{defaultVisitor:c,convertValue:s,isVisitable:Je});if(!We.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!We.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),We.forEach(n,(function(n,o){!0===(!(We.isUndefined(n)||null===n)&&i.call(e,n,We.isString(o)?o.trim():o,r,h))&&t(n,r?r.concat(o):[o])})),l.pop()}}(t),e}function tn(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function en(t,e){this._pairs=[],t&&Ze(t,this,e)}var nn=en.prototype;function rn(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function on(t,e,n){if(!e)return t;var r=n&&n.encode||rn;We.isFunction(n)&&(n={serialize:n});var i,o=n&&n.serialize;if(i=o?o(e,n):We.isURLSearchParams(e)?e.toString():new en(e,n).toString(r)){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}nn.append=function(t,e){this._pairs.push([t,e])},nn.toString=function(t){var e=t?function(e){return t.call(this,e,tn)}:tn;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var an=N((function t(){L(this,t),this.handlers=[]}),[{key:"use",value:function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(t){this.handlers[t]&&(this.handlers[t]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(t){We.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}]),un={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sn={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:en,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},cn="undefined"!=typeof window&&"undefined"!=typeof document,ln="object"===("undefined"==typeof navigator?"undefined":J(navigator))&&navigator||void 0,hn=cn&&(!ln||["ReactNative","NativeScript","NS"].indexOf(ln.product)<0),fn="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,dn=cn&&window.location.href||"http://localhost",vn=$($({},Object.freeze({__proto__:null,hasBrowserEnv:cn,hasStandardBrowserEnv:hn,hasStandardBrowserWebWorkerEnv:fn,navigator:ln,origin:dn})),sn);function pn(t){function e(t,n,r,i){var o=t[i++];if("__proto__"===o)return!0;var a=Number.isFinite(+o),u=i>=t.length;return o=!o&&We.isArray(r)?r.length:o,u?(We.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a):(r[o]&&We.isObject(r[o])||(r[o]=[]),e(t,n,r[o],i)&&We.isArray(r[o])&&(r[o]=function(t){var e,n,r={},i=Object.keys(t),o=i.length;for(e=0;e<o;e++)r[n=i[e]]=t[n];return r}(r[o])),!a)}if(We.isFormData(t)&&We.isFunction(t.entries)){var n={};return We.forEachEntry(t,(function(t,r){e(function(t){return We.matchAll(/\w+|\[(\w*)]/g,t).map((function(t){return"[]"===t[0]?"":t[1]||t[0]}))}(t),r,n,0)})),n}return null}var yn={transitional:un,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){var n,r=e.getContentType()||"",i=r.indexOf("application/json")>-1,o=We.isObject(t);if(o&&We.isHTMLForm(t)&&(t=new FormData(t)),We.isFormData(t))return i?JSON.stringify(pn(t)):t;if(We.isArrayBuffer(t)||We.isBuffer(t)||We.isStream(t)||We.isFile(t)||We.isBlob(t)||We.isReadableStream(t))return t;if(We.isArrayBufferView(t))return t.buffer;if(We.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Ze(t,new vn.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return vn.isNode&&We.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((n=We.isFileList(t))||r.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return Ze(n?{"files[]":t}:t,a&&new a,this.formSerializer)}}return o||i?(e.setContentType("application/json",!1),function(t){if(We.isString(t))try{return(0,JSON.parse)(t),We.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||yn.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(We.isResponse(t)||We.isReadableStream(t))return t;if(t&&We.isString(t)&&(n&&!this.responseType||r)){var i=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(i){if("SyntaxError"===t.name)throw Ye.from(t,Ye.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vn.classes.FormData,Blob:vn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};We.forEach(["delete","get","head","post","put","patch"],(function(t){yn.headers[t]={}}));var gn=We.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mn=Symbol("internals");function wn(t){return t&&String(t).trim().toLowerCase()}function bn(t){return!1===t||null==t?t:We.isArray(t)?t.map(bn):String(t)}function kn(t,e,n,r,i){return We.isFunction(r)?r.call(this,e,n):(i&&(e=n),We.isString(e)?We.isString(r)?-1!==e.indexOf(r):We.isRegExp(r)?r.test(e):void 0:void 0)}var xn=N((function t(e){L(this,t),e&&this.set(e)}),[{key:"set",value:function(t,e,n){var r=this;function i(t,e,n){var i=wn(e);if(!i)throw new Error("header name must be a non-empty string");var o=We.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||e]=bn(t))}var o=function(t,e){return We.forEach(t,(function(t,n){return i(t,n,e)}))};if(We.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(We.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))o(function(t){var e,n,r,i={};return t&&t.split("\n").forEach((function(t){r=t.indexOf(":"),e=t.substring(0,r).trim().toLowerCase(),n=t.substring(r+1).trim(),!e||i[e]&&gn[e]||("set-cookie"===e?i[e]?i[e].push(n):i[e]=[n]:i[e]=i[e]?i[e]+", "+n:n)})),i}(t),e);else if(We.isHeaders(t)){var a,u=_(t.entries());try{for(u.s();!(a=u.n()).done;){var s=Y(a.value,2),c=s[0];i(s[1],c,n)}}catch(t){u.e(t)}finally{u.f()}}else null!=t&&i(e,t,n);return this}},{key:"get",value:function(t,e){if(t=wn(t)){var n=We.findKey(this,t);if(n){var r=this[n];if(!e)return r;if(!0===e)return function(t){for(var e,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;e=r.exec(t);)n[e[1]]=e[2];return n}(r);if(We.isFunction(e))return e.call(this,r,n);if(We.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(t,e){if(t=wn(t)){var n=We.findKey(this,t);return!(!n||void 0===this[n]||e&&!kn(0,this[n],n,e))}return!1}},{key:"delete",value:function(t,e){var n=this,r=!1;function i(t){if(t=wn(t)){var i=We.findKey(n,t);!i||e&&!kn(0,n[i],i,e)||(delete n[i],r=!0)}}return We.isArray(t)?t.forEach(i):i(t),r}},{key:"clear",value:function(t){for(var e=Object.keys(this),n=e.length,r=!1;n--;){var i=e[n];t&&!kn(0,this[i],i,t,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(t){var e=this,n={};return We.forEach(this,(function(r,i){var o=We.findKey(n,i);if(o)return e[o]=bn(r),void delete e[i];var a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n}))}(i):String(i).trim();a!==i&&delete e[i],e[a]=bn(r),n[a]=!0})),this}},{key:"concat",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this.constructor).concat.apply(t,[this].concat(n))}},{key:"toJSON",value:function(t){var e=Object.create(null);return We.forEach(this,(function(n,r){null!=n&&!1!==n&&(e[r]=t&&We.isArray(n)?n.join(", "):n)})),e}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(t){var e=Y(t,2);return e[0]+": "+e[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(t){return t instanceof this?t:new this(t)}},{key:"concat",value:function(t){for(var e=new this(t),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(t){return e.set(t)})),e}},{key:"accessor",value:function(t){var e=(this[mn]=this[mn]={accessors:{}}).accessors,n=this.prototype;function r(t){var r=wn(t);e[r]||(function(t,e){var n=We.toCamelCase(" "+e);["get","set","has"].forEach((function(r){Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}(n,t),e[r]=!0)}return We.isArray(t)?t.forEach(r):r(t),this}}]);function En(t,e){var n=this||yn,r=e||n,i=xn.from(r.headers),o=r.data;return We.forEach(t,(function(t){o=t.call(n,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function An(t){return!(!t||!t.__CANCEL__)}function On(t,e,n){Ye.call(this,null==t?"canceled":t,Ye.ERR_CANCELED,e,n),this.name="CanceledError"}function Sn(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new Ye("Request failed with status code "+n.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),We.reduceDescriptors(xn.prototype,(function(t,e){var n=t.value,r=e[0].toUpperCase()+e.slice(1);return{get:function(){return n},set:function(t){this[r]=t}}})),We.freezeMethods(xn),We.inherits(On,Ye,{__CANCEL__:!0});var Tn=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0,i=function(t,e){t=t||10;var n,r=new Array(t),i=new Array(t),o=0,a=0;return e=void 0!==e?e:1e3,function(u){var s=Date.now(),c=i[a];n||(n=s),r[o]=u,i[o]=s;for(var l=a,h=0;l!==o;)h+=r[l++],l%=t;if((o=(o+1)%t)===a&&(a=(a+1)%t),!(s-n<e)){var f=c&&s-c;return f?Math.round(1e3*h/f):void 0}}}(50,250);return function(t,e){var n,r,i=0,o=1e3/e,a=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),t.apply(null,e)};return[function(){for(var t=Date.now(),e=t-i,u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];e>=o?a(s,t):(n=s,r||(r=setTimeout((function(){r=null,a(n)}),o-e)))},function(){return n&&a(n)}]}((function(n){var o=n.loaded,a=n.lengthComputable?n.total:void 0,u=o-r,s=i(u);r=o;var c=F({loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:s||void 0,estimated:s&&a&&o<=a?(a-o)/s:void 0,event:n,lengthComputable:null!=a},e?"download":"upload",!0);t(c)}),n)},Rn=function(t,e){var n=null!=t;return[function(r){return e[0]({lengthComputable:n,total:t,loaded:r})},e[1]]},Pn=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return We.asap((function(){return t.apply(void 0,n)}))}},jn=vn.hasStandardBrowserEnv?function(t,e){return function(n){return n=new URL(n,vn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)}}(new URL(vn.origin),vn.navigator&&/(msie|trident)/i.test(vn.navigator.userAgent)):function(){return!0},Ln=vn.hasStandardBrowserEnv?{write:function(t,e,n,r,i,o){var a=[t+"="+encodeURIComponent(e)];We.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),We.isString(r)&&a.push("path="+r),We.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function Dn(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}var Cn=function(t){return t instanceof xn?$({},t):t};function Nn(t,e){e=e||{};var n={};function r(t,e,n,r){return We.isPlainObject(t)&&We.isPlainObject(e)?We.merge.call({caseless:r},t,e):We.isPlainObject(e)?We.merge({},e):We.isArray(e)?e.slice():e}function i(t,e,n,i){return We.isUndefined(e)?We.isUndefined(t)?void 0:r(void 0,t,0,i):r(t,e,0,i)}function o(t,e){if(!We.isUndefined(e))return r(void 0,e)}function a(t,e){return We.isUndefined(e)?We.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function u(n,i,o){return o in e?r(n,i):o in t?r(void 0,n):void 0}var s={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:function(t,e,n){return i(Cn(t),Cn(e),0,!0)}};return We.forEach(Object.keys(Object.assign({},t,e)),(function(r){var o=s[r]||i,a=o(t[r],e[r],r);We.isUndefined(a)&&o!==u||(n[r]=a)})),n}var _n,Fn,Mn=function(t){var e,n,r=Nn({},t),i=r.data,o=r.withXSRFToken,a=r.xsrfHeaderName,u=r.xsrfCookieName,s=r.headers,c=r.auth;if(r.headers=s=xn.from(s),r.url=on(Dn(r.baseURL,r.url),t.params,t.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),We.isFormData(i))if(vn.hasStandardBrowserEnv||vn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(e=s.getContentType())){var l=e?e.split(";").map((function(t){return t.trim()})).filter(Boolean):[],h=x(n=l)||I(n)||X(n)||B(),f=h[0],d=h.slice(1);s.setContentType([f||"multipart/form-data"].concat(G(d)).join("; "))}if(vn.hasStandardBrowserEnv&&(o&&We.isFunction(o)&&(o=o(r)),o||!1!==o&&jn(r.url))){var v=a&&u&&Ln.read(u);v&&s.set(a,v)}return r},qn="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){var r,i,o,a,u,s=Mn(t),c=s.data,l=xn.from(s.headers).normalize(),h=s.responseType,f=s.onUploadProgress,d=s.onDownloadProgress;function v(){a&&a(),u&&u(),s.cancelToken&&s.cancelToken.unsubscribe(r),s.signal&&s.signal.removeEventListener("abort",r)}var p=new XMLHttpRequest;function y(){if(p){var r=xn.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());Sn((function(t){e(t),v()}),(function(t){n(t),v()}),{data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:t,request:p}),p=null}}if(p.open(s.method.toUpperCase(),s.url,!0),p.timeout=s.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(n(new Ye("Request aborted",Ye.ECONNABORTED,t,p)),p=null)},p.onerror=function(){n(new Ye("Network Error",Ye.ERR_NETWORK,t,p)),p=null},p.ontimeout=function(){var e=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded",r=s.transitional||un;s.timeoutErrorMessage&&(e=s.timeoutErrorMessage),n(new Ye(e,r.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,t,p)),p=null},void 0===c&&l.setContentType(null),"setRequestHeader"in p&&We.forEach(l.toJSON(),(function(t,e){p.setRequestHeader(e,t)})),We.isUndefined(s.withCredentials)||(p.withCredentials=!!s.withCredentials),h&&"json"!==h&&(p.responseType=s.responseType),d){var g=Y(Tn(d,!0),2);o=g[0],u=g[1],p.addEventListener("progress",o)}if(f&&p.upload){var m=Y(Tn(f),2);i=m[0],a=m[1],p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",a)}(s.cancelToken||s.signal)&&(r=function(e){p&&(n(!e||e.type?new On(null,t,p):e),p.abort(),p=null)},s.cancelToken&&s.cancelToken.subscribe(r),s.signal&&(s.signal.aborted?r():s.signal.addEventListener("abort",r)));var w,b,k=(w=s.url,(b=/^([-+\w]{1,25})(:?\/\/|:)/.exec(w))&&b[1]||"");k&&-1===vn.protocols.indexOf(k)?n(new Ye("Unsupported protocol "+k+":",Ye.ERR_BAD_REQUEST,t)):p.send(c||null)}))},Hn=function(t,e){var n=(t=t?t.filter(Boolean):[]).length;if(e||n){var r,i=new AbortController,o=function(t){if(!r){r=!0,u();var e=t instanceof Error?t:this.reason;i.abort(e instanceof Ye?e:new On(e instanceof Error?e.message:e))}},a=e&&setTimeout((function(){a=null,o(new Ye("timeout ".concat(e," of ms exceeded"),Ye.ETIMEDOUT))}),e),u=function(){t&&(a&&clearTimeout(a),a=null,t.forEach((function(t){t.unsubscribe?t.unsubscribe(o):t.removeEventListener("abort",o)})),t=null)};t.forEach((function(t){return t.addEventListener("abort",o)}));var s=i.signal;return s.unsubscribe=function(){return We.asap(u)},s}},In=U().mark((function t(e,n){var r,i,o;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.byteLength,n&&!(r<n)){t.next=5;break}return t.next=4,e;case 4:return t.abrupt("return");case 5:i=0;case 6:if(!(i<r)){t.next=13;break}return o=i+n,t.next=10,e.slice(i,o);case 10:i=o,t.next=6;break;case 13:case"end":return t.stop()}}),t)})),Bn=function(){var t=K(U().mark((function t(e,n){var r,i,o,a,u,s;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=!1,i=!1,t.prev=2,a=O(zn(e));case 4:return t.next=6,P(a.next());case 6:if(!(r=!(u=t.sent).done)){t.next=12;break}return s=u.value,t.delegateYield(A(O(In(s,n))),"t0",9);case 9:r=!1,t.next=4;break;case 12:t.next=18;break;case 14:t.prev=14,t.t1=t.catch(2),i=!0,o=t.t1;case 18:if(t.prev=18,t.prev=19,!r||null==a.return){t.next=23;break}return t.next=23,P(a.return());case 23:if(t.prev=23,!i){t.next=26;break}throw o;case 26:return t.finish(23);case 27:return t.finish(18);case 28:case"end":return t.stop()}}),t,null,[[2,14,18,28],[19,,23,27]])})));return function(e,n){return t.apply(this,arguments)}}(),zn=function(){var t=K(U().mark((function t(e){var n,r,i,o;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e[Symbol.asyncIterator]){t.next=3;break}return t.delegateYield(A(O(e)),"t0",2);case 2:return t.abrupt("return");case 3:n=e.getReader(),t.prev=4;case 5:return t.next=7,P(n.read());case 7:if(r=t.sent,i=r.done,o=r.value,!i){t.next=12;break}return t.abrupt("break",16);case 12:return t.next=14,o;case 14:t.next=5;break;case 16:return t.prev=16,t.next=19,P(n.cancel());case 19:return t.finish(16);case 20:case"end":return t.stop()}}),t,null,[[4,,16,20]])})));return function(e){return t.apply(this,arguments)}}(),$n=function(t,e,n,r){var i,o=Bn(t,e),a=0,u=function(t){i||(i=!0,r&&r(t))};return new ReadableStream({pull:function(t){return R(U().mark((function e(){var r,i,s,c,l;return U().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.next();case 3:if(r=e.sent,i=r.done,s=r.value,!i){e.next=10;break}return u(),t.close(),e.abrupt("return");case 10:c=s.byteLength,n&&(l=a+=c,n(l)),t.enqueue(new Uint8Array(s)),e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(0),u(e.t0),e.t0;case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()},cancel:function(t){return u(t),o.return()}},{highWaterMark:2})},Un="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Wn=Un&&"function"==typeof ReadableStream,Yn=Un&&("function"==typeof TextEncoder?(_n=new TextEncoder,function(t){return _n.encode(t)}):function(){var t=R(U().mark((function t(e){return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uint8Array,t.next=3,new Response(e).arrayBuffer();case 3:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Gn=function(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return!!t.apply(void 0,n)}catch(t){return!1}},Qn=Wn&&Gn((function(){var t=!1,e=new Request(vn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),Jn=Wn&&Gn((function(){return We.isReadableStream(new Response("").body)})),Xn={stream:Jn&&function(t){return t.body}};Un&&(Fn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((function(t){!Xn[t]&&(Xn[t]=We.isFunction(Fn[t])?function(e){return e[t]()}:function(e,n){throw new Ye("Response type '".concat(t,"' is not supported"),Ye.ERR_NOT_SUPPORT,n)})})));var Kn=function(){var t=R(U().mark((function t(e){var n;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return",0);case 2:if(!We.isBlob(e)){t.next=4;break}return t.abrupt("return",e.size);case 4:if(!We.isSpecCompliantForm(e)){t.next=9;break}return n=new Request(vn.origin,{method:"POST",body:e}),t.next=8,n.arrayBuffer();case 8:case 15:return t.abrupt("return",t.sent.byteLength);case 9:if(!We.isArrayBufferView(e)&&!We.isArrayBuffer(e)){t.next=11;break}return t.abrupt("return",e.byteLength);case 11:if(We.isURLSearchParams(e)&&(e+=""),!We.isString(e)){t.next=16;break}return t.next=15,Yn(e);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Vn=function(){var t=R(U().mark((function t(e,n){var r;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=We.toFiniteNumber(e.getContentLength()),t.abrupt("return",null==r?Kn(n):r);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Zn=Un&&function(){var t=R(U().mark((function t(e){var n,r,i,o,a,u,s,c,l,h,f,d,v,p,y,g,m,w,b,k,x,E,A,O,S,T,R,P,j,L,D,C,N,_;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Mn(e),r=n.url,i=n.method,o=n.data,a=n.signal,u=n.cancelToken,s=n.timeout,c=n.onDownloadProgress,l=n.onUploadProgress,h=n.responseType,f=n.headers,d=n.withCredentials,v=void 0===d?"same-origin":d,p=n.fetchOptions,h=h?(h+"").toLowerCase():"text",y=Hn([a,u&&u.toAbortSignal()],s),m=y&&y.unsubscribe&&function(){y.unsubscribe()},t.prev=4,t.t0=l&&Qn&&"get"!==i&&"head"!==i,!t.t0){t.next=11;break}return t.next=9,Vn(f,o);case 9:t.t1=w=t.sent,t.t0=0!==t.t1;case 11:if(!t.t0){t.next=15;break}b=new Request(r,{method:"POST",body:o,duplex:"half"}),We.isFormData(o)&&(k=b.headers.get("content-type"))&&f.setContentType(k),b.body&&(x=Rn(w,Tn(Pn(l))),E=Y(x,2),A=E[0],O=E[1],o=$n(b.body,65536,A,O));case 15:return We.isString(v)||(v=v?"include":"omit"),S="credentials"in Request.prototype,g=new Request(r,$($({},p),{},{signal:y,method:i.toUpperCase(),headers:f.normalize().toJSON(),body:o,duplex:"half",credentials:S?v:void 0})),t.next=20,fetch(g);case 20:return T=t.sent,R=Jn&&("stream"===h||"response"===h),Jn&&(c||R&&m)&&(P={},["status","statusText","headers"].forEach((function(t){P[t]=T[t]})),j=We.toFiniteNumber(T.headers.get("content-length")),L=c&&Rn(j,Tn(Pn(c),!0))||[],D=Y(L,2),C=D[0],N=D[1],T=new Response($n(T.body,65536,C,(function(){N&&N(),m&&m()})),P)),h=h||"text",t.next=26,Xn[We.findKey(Xn,h)||"text"](T,e);case 26:return _=t.sent,!R&&m&&m(),t.next=30,new Promise((function(t,n){Sn(t,n,{data:_,headers:xn.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:g})}));case 30:return t.abrupt("return",t.sent);case 33:if(t.prev=33,t.t2=t.catch(4),m&&m(),!t.t2||"TypeError"!==t.t2.name||!/fetch/i.test(t.t2.message)){t.next=38;break}throw Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,e,g),{cause:t.t2.cause||t.t2});case 38:throw Ye.from(t.t2,t.t2&&t.t2.code,e,g);case 39:case"end":return t.stop()}}),t,null,[[4,33]])})));return function(e){return t.apply(this,arguments)}}(),tr={http:null,xhr:qn,fetch:Zn};We.forEach(tr,(function(t,e){if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));var er=function(t){return"- ".concat(t)},nr=function(t){return We.isFunction(t)||null===t||!1===t},rr=function(t){for(var e,n,r=(t=We.isArray(t)?t:[t]).length,i={},o=0;o<r;o++){var a=void 0;if(n=e=t[o],!nr(e)&&void 0===(n=tr[(a=String(e)).toLowerCase()]))throw new Ye("Unknown adapter '".concat(a,"'"));if(n)break;i[a||"#"+o]=n}if(!n){var u=Object.entries(i).map((function(t){var e=Y(t,2),n=e[0],r=e[1];return"adapter ".concat(n," ")+(!1===r?"is not supported by the environment":"is not available in the build")}));throw new Ye("There is no suitable adapter to dispatch the request "+(r?u.length>1?"since :\n"+u.map(er).join("\n"):" "+er(u[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function ir(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new On(null,t)}function or(t){return ir(t),t.headers=xn.from(t.headers),t.data=En.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rr(t.adapter||yn.adapter)(t).then((function(e){return ir(t),e.data=En.call(t,t.transformResponse,e),e.headers=xn.from(e.headers),e}),(function(e){return An(e)||(ir(t),e&&e.response&&(e.response.data=En.call(t,t.transformResponse,e.response),e.response.headers=xn.from(e.response.headers))),Promise.reject(e)}))}var ar={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){ar[t]=function(n){return J(n)===t||"a"+(e<1?"n ":" ")+t}}));var ur={};ar.transitional=function(t,e,n){function r(t,e){return"[Axios v1.7.9] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,i,o){if(!1===t)throw new Ye(r(i," has been removed"+(e?" in "+e:"")),Ye.ERR_DEPRECATED);return e&&!ur[i]&&(ur[i]=!0,console.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,o)}},ar.spelling=function(t){return function(e,n){return console.warn("".concat(n," is likely a misspelling of ").concat(t)),!0}};var sr={assertOptions:function(t,e,n){if("object"!==J(t))throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],a=e[o];if(a){var u=t[o],s=void 0===u||a(u,o,t);if(!0!==s)throw new Ye("option "+o+" must be "+s,Ye.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ye("Unknown option "+o,Ye.ERR_BAD_OPTION)}},validators:ar},cr=sr.validators,lr=function(){return N((function t(e){L(this,t),this.defaults=e,this.interceptors={request:new an,response:new an}}),[{key:"request",value:(t=R(U().mark((function t(e,n){var r,i;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this._request(e,n);case 3:return t.abrupt("return",t.sent);case 6:if(t.prev=6,t.t0=t.catch(0),t.t0 instanceof Error){r={},Error.captureStackTrace?Error.captureStackTrace(r):r=new Error,i=r.stack?r.stack.replace(/^.+\n/,""):"";try{t.t0.stack?i&&!String(t.t0.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(t.t0.stack+="\n"+i):t.t0.stack=i}catch(t){}}throw t.t0;case 10:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(e,n){return t.apply(this,arguments)})},{key:"_request",value:function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{};var n=e=Nn(this.defaults,e),r=n.transitional,i=n.paramsSerializer,o=n.headers;void 0!==r&&sr.assertOptions(r,{silentJSONParsing:cr.transitional(cr.boolean),forcedJSONParsing:cr.transitional(cr.boolean),clarifyTimeoutError:cr.transitional(cr.boolean)},!1),null!=i&&(We.isFunction(i)?e.paramsSerializer={serialize:i}:sr.assertOptions(i,{encode:cr.function,serialize:cr.function},!0)),sr.assertOptions(e,{baseUrl:cr.spelling("baseURL"),withXsrfToken:cr.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();var a=o&&We.merge(o.common,o[e.method]);o&&We.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete o[t]})),e.headers=xn.concat(a,o);var u=[],s=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,u.unshift(t.fulfilled,t.rejected))}));var c,l=[];this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));var h,f=0;if(!s){var d=[or.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),h=d.length,c=Promise.resolve(e);f<h;)c=c.then(d[f++],d[f++]);return c}h=u.length;var v=e;for(f=0;f<h;){var p=u[f++],y=u[f++];try{v=p(v)}catch(t){y.call(this,t);break}}try{c=or.call(this,v)}catch(t){return Promise.reject(t)}for(f=0,h=l.length;f<h;)c=c.then(l[f++],l[f++]);return c}},{key:"getUri",value:function(t){return on(Dn((t=Nn(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}]);var t}();We.forEach(["delete","get","head","options"],(function(t){lr.prototype[t]=function(e,n){return this.request(Nn(n||{},{method:t,url:e,data:(n||{}).data}))}})),We.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(Nn(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}lr.prototype[t]=e(),lr.prototype[t+"Form"]=e(!0)}));var hr=function(){function t(e){if(L(this,t),"function"!=typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(t){n=t}));var r=this;this.promise.then((function(t){if(r._listeners){for(var e=r._listeners.length;e-- >0;)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},e((function(t,e,i){r.reason||(r.reason=new On(t,e,i),n(r.reason))}))}return N(t,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}},{key:"unsubscribe",value:function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}}},{key:"toAbortSignal",value:function(){var t=this,e=new AbortController,n=function(t){e.abort(t)};return this.subscribe(n),e.signal.unsubscribe=function(){return t.unsubscribe(n)},e.signal}}],[{key:"source",value:function(){var e;return{token:new t((function(t){e=t})),cancel:e}}}])}(),fr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fr).forEach((function(t){var e=Y(t,2),n=e[0],r=e[1];fr[r]=n}));var dr=function t(e){var n=new lr(e),r=te(lr.prototype.request,n);return We.extend(r,lr.prototype,n,{allOwnKeys:!0}),We.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(Nn(e,n))},r}(yn);dr.Axios=lr,dr.CanceledError=On,dr.CancelToken=hr,dr.isCancel=An,dr.VERSION="1.7.9",dr.toFormData=Ze,dr.AxiosError=Ye,dr.Cancel=dr.CanceledError,dr.all=function(t){return Promise.all(t)},dr.spread=function(t){return function(e){return t.apply(null,e)}},dr.isAxiosError=function(t){return We.isObject(t)&&!0===t.isAxiosError},dr.mergeConfig=Nn,dr.AxiosHeaders=xn,dr.formToJSON=function(t){return pn(We.isHTMLForm(t)?new FormData(t):t)},dr.getAdapter=rr,dr.HttpStatusCode=fr,dr.default=dr,dr.Axios,dr.AxiosError,dr.CanceledError,dr.isCancel,dr.CancelToken,dr.VERSION,dr.all,dr.Cancel,dr.isAxiosError,dr.spread,dr.toFormData,dr.AxiosHeaders,dr.HttpStatusCode,dr.formToJSON,dr.getAdapter,dr.mergeConfig;var vr=function(){function t(e){var n;return L(this,t),(n=j(this,t,[e])).axiosInstance=dr.create({baseURL:"".concat(n.host,"/").concat(n.namespace),headers:{Authorization:"Bearer ".concat(e.publicKey),"Content-Type":"application/json","User-Agent":"@fleetbase/sdk;node"}}),n.axiosInstance.interceptors.response.use((function(t){return t.data}),(function(t){if(t.response){var e=t.response.data;if(ct(e.errors)&&e.errors.length)throw new Error(e.errors[0]);if(e.error)throw new Error(e.error)}throw t})),n}return q(t,Vt),N(t,[{key:"setHeaders",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.axiosInstance.defaults.headers.common=$($({},this.axiosInstance.defaults.headers.common),t),this}},{key:"request",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.axiosInstance.request($({method:t,url:e},n))}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("GET",t,$({params:e},n))}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,$({data:e},n))}},{key:"put",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,$({data:e},n))}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"patch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,$({data:e},n))}}])}();ot("adapter","NodeAdapter",vr);var pr=function(){function t(){return L(this,t),j(this,t,arguments)}return q(t,Vt),N(t)}();ot("adapter","EmberJsAdapter",pr),function(){function t(e){var n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(L(this,t),this.version=null!==(n=o.version)&&void 0!==n?n:"v1",this.options={version:this.version,host:null!==(r=o.host)&&void 0!==r?r:"https://api.fleetbase.io",namespace:null!==(i=o.namespace)&&void 0!==i?i:this.version,debug:a,publicKey:e},"string"!=typeof e||0===e.length)throw new Error(" Invalid public key given to Fleetbase SDK");if(!xt()&&e.toLowerCase().startsWith("$"))throw new Error("Secret key provided. You must use a public key with Fleetbase Javascript SDK!");this.adapter=o.adapter||Et(this.options),this.orders=new Dt("order",this.adapter).extendActions(Ct),this.entities=new Dt("entity",this.adapter),this.places=new Dt("place",this.adapter),this.drivers=new Dt("driver",this.adapter).extendActions(Ut),this.vehicles=new Dt("vehicle",this.adapter),this.vendors=new Dt("vendor",this.adapter),this.contacts=new Dt("contact",this.adapter),this.organizations=new Dt("organization",this.adapter).extendActions(Bt)}N(t,[{key:"setAdapter",value:function(t){this.adapter=t}},{key:"getAdapter",value:function(){return this.adapter}}],[{key:"newInstance",value:function(){return D(t,Array.prototype.slice.call(arguments))}}])}();var yr=function(){function t(){return i(this,t),r(this,t,arguments)}return l(t,Dt),a(t,[{key:"extendActions",value:function(){return Rt(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])}},{key:"serialize",value:function(t){return ut("resource",rt(this.resource),t,this.adapter)}}])}();function gr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol";return new Intl.NumberFormat("en-US",{style:"currency",currency:e,currencyDisplay:n}).format(t)}function mr(t){var e=null==t;if(e)return e;if("number"==typeof t.size)return!t.size;var n=m(t);if("object"===n){var r=t.size;if("number"==typeof r)return!r}if("number"==typeof t.length&&"function"!==n)return!t.length;if("object"===n){var i=t.length;if("number"==typeof i)return!i}return!1}var wr=Array.isArray,br=function(){function t(){return i(this,t),r(this,t,arguments)}return l(t,Lt),a(t,[{key:"setAdapter",value:function(t){var e;return this.adapter=t,this.store=new yr(this.resource,t,{onAfterFetch:this.syncAttributes.bind(this),actions:null===(e=this.options)||void 0===e?void 0:e.actions}),this}}])}();ot("resource","StorefrontResource",br);var kr=new Pt({count:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};return t&&(n.store=t),this.adapter.get("".concat(this.namespace,"/count"),n,e)}}),xr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"review",o])}return l(t,br),a(t,[{key:"getMedia",value:function(){}},{key:"getPhotos",value:function(){}},{key:"getVideos",value:function(){}}])}();ot("resource","Review",xr);var Er=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"product",o])}return l(t,br),a(t,[{key:"variants",value:function(){return this.getAttribute("variants")}},{key:"addons",value:function(){return this.getAttribute("addon_categories")}},{key:"isOnSale",get:function(){return this.getAttribute("is_on_sale")}},{key:"isNotOnSale",get:function(){return!this.getAttribute("is_on_sale")}},{key:"formattedAmount",get:function(){var t=this.getAttributes(["price","sale_price","currency"]),e=t.price,n=t.sale_price,r=t.currency;return this.isOnSale?mr(n)||mr(r)?null:gr(n/100,r):mr(e)||mr(r)?null:gr(e/100,r)}},{key:"getReviews",value:function(){var t=this;return this.adapter.get("reviews",{store:this.id}).then((function(e){return new bt(e.map((function(e){return new xr(e,t.adapter)})))}))}}])}();ot("resource","Product",Er);var Ar=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"category",o])}return l(t,br),a(t,[{key:"getProducts",value:function(){var t=this;return this.adapter.get("products",{category:this.id}).then((function(e){return new bt(e.map((function(e){return new Er(e,t.adapter)})))}))}}])}();ot("resource","Category",Ar);var Or=new Pt({login:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(function(){return/^[+]?[\s./0-9]*[(]?[0-9]{1,4}[)]?[-\s./0-9]*$/g.test(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}(t))return this.adapter.post("customers/login-with-sms",{phone:t});if(!e)throw new Error("Login requires password!");return this.adapter.post("customers/login",d({identity:t,password:e},n)).then(this.afterFetch.bind(this))},verifyCode:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("customers/verify-code",d({identity:t,code:e},n)).then(this.afterFetch.bind(this))},requestCreationCode:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"email";return this.adapter.post("customers/request-creation-code",{identity:t,mode:e})},create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("customers",d({identity:t,code:e},n)).then(this.afterFetch.bind(this))},retrieve:function(t){return this.findRecord(t)}}),Sr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"customer",d({actions:Or},o)])}return l(t,br),a(t,[{key:"setAdapter",value:function(t){var e;return this.adapter=t,this.store=new yr(this.resource,t,{onAfterFetch:this.syncAttributes.bind(this),actions:null===(e=this.options)||void 0===e?void 0:e.actions}),this}},{key:"token",get:function(){return this.getAttribute("token")}},{key:"syncDevice",value:(s=n(v().mark((function t(e){var n=this;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.adapter.setHeaders({"Customer-Token":this.token}).post("customers/register-device",e).then((function(){return n})));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"performAuthorizedRequest",value:(u=n(v().mark((function t(e){var n,r,i,o,a=arguments;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r=a.length>2&&void 0!==a[2]?a[2]:"GET",t.prev=2,i={"Customer-Token":this.token},t.next=6,this.adapter.setHeaders(i)[r.toLowerCase()](e,n);case 6:return o=t.sent,t.abrupt("return",o);case 10:throw t.prev=10,t.t0=t.catch(2),console.error("Error in ".concat(r," request to ").concat(e,":"),t.t0),t.t0;case 14:case"end":return t.stop()}}),t,this,[[2,10]])}))),function(t){return u.apply(this,arguments)})},{key:"getSavedPlaces",value:(o=n(v().mark((function t(){var e,n=this;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.performAuthorizedRequest("customers/places");case 3:return e=t.sent,t.abrupt("return",new bt(e.map((function(t){return new Mt(t,n.adapter)}))));case 7:throw t.prev=7,t.t0=t.catch(0),console.error("Failed to retrieve saved places"),t.t0;case 11:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return o.apply(this,arguments)})},{key:"getOrderHistory",value:(e=n(v().mark((function t(){var e,n,r=this,i=arguments;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:{},t.prev=1,t.next=4,this.performAuthorizedRequest("customers/orders",e);case 4:return n=t.sent,t.abrupt("return",new bt(n.map((function(t){return new Nt(t,r.adapter)}))));case 8:throw t.prev=8,t.t0=t.catch(1),console.error("Failed to retrieve order history"),t.t0;case 12:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return e.apply(this,arguments)})},{key:"getStripeEphemeralKey",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.adapter.setHeaders({"Customer-Token":this.token}).post("customers/stripe-ephemeral-key",t)}},{key:"getStripeSetupIntent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.adapter.setHeaders({"Customer-Token":this.token}).post("customers/stripe-setup-intent",t)}}]);var e,o,u,s}();ot("resource","Customer",Sr);var Tr=Array.isArray,Rr=new Pt({create:void 0,findAll:void 0,query:void 0,queryRecord:void 0,add:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.adapter.post("".concat(this.namespace,"/").concat(t,"/").concat(e),d(d({},r),{},{quantity:n}),i).then(this.afterFetch.bind(this))},update:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.adapter.put("".concat(this.namespace,"/").concat(t,"/").concat(e),d(d({},r),{},{quantity:n}),i).then(this.afterFetch.bind(this))},remove:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.delete("".concat(this.namespace,"/").concat(t,"/").concat(e),{},n).then(this.afterFetch.bind(this))},empty:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.adapter.put("".concat(this.namespace,"/").concat(t,"/empty"),{},e).then(this.afterFetch.bind(this))},retrieve:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.findRecord(t)}}),Pr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"cart",d({actions:Rr},o)])}return l(t,br),a(t,[{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t instanceof Er&&(t=t.id),this.store.add(this.id,t,e,n,r)}},{key:"update",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.store.update(this.id,t,e,n,r)}},{key:"remove",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.remove(this.id,t,e)}},{key:"empty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.empty(this.id,t)}},{key:"delete",value:function(){return this.destroy()}},{key:"refresh",value:function(){return this.store.retrieve(this.id)}},{key:"subtotal",value:function(){var t=0;return this.contents().forEach((function(e){t+=e.subtotal})),t}},{key:"contents",value:function(){return this.getAttribute("items",[])}},{key:"hasProduct",value:function(t){return-1!==this.contents().findIndex((function(e){return e.product_id===t}))}},{key:"isEmpty",get:function(){var t=this.contents();return!Tr(t)||0===t.length}},{key:"isNotEmpty",get:function(){return!this.isEmpty}}])}();ot("resource","Cart",Pr);var jr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"payment-gateway",o])}return l(t,br),a(t,[{key:"type",get:function(){return this.getAttribute("type")}},{key:"code",get:function(){return this.getAttribute("code")}},{key:"isCashGateway",get:function(){return"cash"===this.type}},{key:"isStripeGateway",get:function(){return"stripe"===this.type}},{key:"setCheckoutToken",value:function(t){this.token=t}},{key:"getCheckoutToken",value:function(){return this.token}},{key:"findRecord",value:function(){throw new Error("There is no findRecord() method for payment gateways!")}},{key:"create",value:function(){throw new Error("There is no create() method for payment gateways!")}},{key:"update",value:function(){throw new Error("There is no update() method for payment gateways!")}},{key:"destroy",value:function(){throw new Error("There is no destroy() method for payment gateways!")}},{key:"reload",value:function(){throw new Error("There is no reload() method for payment gateways!")}}])}();ot("resource","PaymentGateway",jr);var Lr=6048e5,Dr=Symbol.for("constructDateFrom");function Cr(t,e){return"function"==typeof t?t(e):t&&"object"===m(t)&&Dr in t?t[Dr](e):t instanceof Date?new t.constructor(e):new Date(e)}function Nr(t,e){return Cr(e||t,t)}function _r(t,e,n){var r=Nr(t,null==n?void 0:n.in);return isNaN(e)?Cr((null==n?void 0:n.in)||t,NaN):e?(r.setDate(r.getDate()+e),r):r}var Fr={};function Mr(){return Fr}function qr(t,e){var n,r,i,o,a,u,s=Mr(),c=null!==(n=null!==(r=null!==(i=null!==(o=null==e?void 0:e.weekStartsOn)&&void 0!==o?o:null==e||null===(a=e.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:s.weekStartsOn)&&void 0!==r?r:null===(u=s.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0,l=Nr(t,null==e?void 0:e.in),h=l.getDay(),f=(h<c?7:0)+h-c;return l.setDate(l.getDate()-f),l.setHours(0,0,0,0),l}function Hr(t,e){return qr(t,d(d({},e),{},{weekStartsOn:1}))}function Ir(t,e){var n=Nr(t,void 0),r=n.getFullYear(),i=Cr(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);var o=Hr(i),a=Cr(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);var u=Hr(a);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Br(t){var e=Nr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function zr(t,e){var n=Nr(t,void 0);return n.setHours(0,0,0,0),n}function $r(t,e,n){var r=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=Cr.bind(null,n.find((function(t){return"object"===m(t)})));return n.map(i)}(void 0,t,e),i=y(r,2),o=i[0],a=i[1],u=zr(o),s=zr(a),c=+u-Br(u),l=+s-Br(s);return Math.round((c-l)/864e5)}function Ur(t){return!(!((e=t)instanceof Date||"object"===m(e)&&"[object Date]"===Object.prototype.toString.call(e))&&"number"!=typeof t||isNaN(+Nr(t)));var e}var Wr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Yr(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var Gr={date:Yr({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Yr({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Yr({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Qr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Jr(t){return function(e,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=null!=n&&n.width?String(n.width):i;r=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,u=null!=n&&n.width?String(n.width):t.defaultWidth;r=t.values[u]||t.values[a]}return r[t.argumentCallback?t.argumentCallback(e):e]}}function Xr(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var a,u=o[0],s=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(s)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return}(s,(function(t){return t.test(u)})):function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n;return}(s,(function(t){return t.test(u)}));return a=t.valueCallback?t.valueCallback(c):c,{value:a=n.valueCallback?n.valueCallback(a):a,rest:e.slice(u.length)}}}var Kr,Vr={code:"en-US",formatDistance:function(t,e,n){var r,i=Wr[t];return r="string"==typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Gr,formatRelative:function(t,e,n,r){return Qr[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Jr({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Jr({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Jr({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Jr({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Jr({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Kr={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(Kr.matchPattern);if(!n)return null;var r=n[0],i=t.match(Kr.parsePattern);if(!i)return null;var o=Kr.valueCallback?Kr.valueCallback(i[0]):i[0];return{value:o=e.valueCallback?e.valueCallback(o):o,rest:t.slice(r.length)}}),era:Xr({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Xr({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Xr({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Xr({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Xr({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Zr(t,e){var n=Nr(t,void 0),r=$r(n,function(t){var e=Nr(t,void 0);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}(n));return r+1}function ti(t,e){var n=Nr(t,void 0),r=+Hr(n)-+function(t){var e=Ir(t),n=Cr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Hr(n)}(n);return Math.round(r/Lr)+1}function ei(t,e){var n,r,i,o,a,u,s=Nr(t,null==e?void 0:e.in),c=s.getFullYear(),l=Mr(),h=null!==(n=null!==(r=null!==(i=null!==(o=null==e?void 0:e.firstWeekContainsDate)&&void 0!==o?o:null==e||null===(a=e.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(u=l.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1,f=Cr((null==e?void 0:e.in)||t,0);f.setFullYear(c+1,0,h),f.setHours(0,0,0,0);var d=qr(f,e),v=Cr((null==e?void 0:e.in)||t,0);v.setFullYear(c,0,h),v.setHours(0,0,0,0);var p=qr(v,e);return+s>=+d?c+1:+s>=+p?c:c-1}function ni(t,e){var n=Nr(t,null==e?void 0:e.in),r=+qr(n,e)-+function(t,e){var n,r,i,o,a,u,s=Mr(),c=null!==(n=null!==(r=null!==(i=null!==(o=null==e?void 0:e.firstWeekContainsDate)&&void 0!==o?o:null==e||null===(a=e.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:s.firstWeekContainsDate)&&void 0!==r?r:null===(u=s.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1,l=ei(t,e),h=Cr((null==e?void 0:e.in)||t,0);return h.setFullYear(l,0,c),h.setHours(0,0,0,0),qr(h,e)}(n,e);return Math.round(r/Lr)+1}function ri(t,e){return(t<0?"-":"")+Math.abs(t).toString().padStart(e,"0")}var ii=function(t,e){var n=t.getFullYear(),r=n>0?n:1-n;return ri("yy"===e?r%100:r,e.length)},oi=function(t,e){var n=t.getMonth();return"M"===e?String(n+1):ri(n+1,2)},ai=function(t,e){return ri(t.getDate(),e.length)},ui=function(t,e){return ri(t.getHours()%12||12,e.length)},si=function(t,e){return ri(t.getHours(),e.length)},ci=function(t,e){return ri(t.getMinutes(),e.length)},li=function(t,e){return ri(t.getSeconds(),e.length)},hi=function(t,e){var n=e.length,r=t.getMilliseconds();return ri(Math.trunc(r*Math.pow(10,n-3)),e.length)},fi="midnight",di="noon",vi="morning",pi="afternoon",yi="evening",gi="night",mi={G:function(t,e,n){var r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ii(t,e)},Y:function(t,e,n,r){var i=ei(t,r),o=i>0?i:1-i;return"YY"===e?ri(o%100,2):"Yo"===e?n.ordinalNumber(o,{unit:"year"}):ri(o,e.length)},R:function(t,e){return ri(Ir(t),e.length)},u:function(t,e){return ri(t.getFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ri(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ri(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getMonth();switch(e){case"M":case"MM":return oi(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return ri(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var i=ni(t,r);return"wo"===e?n.ordinalNumber(i,{unit:"week"}):ri(i,e.length)},I:function(t,e,n){var r=ti(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):ri(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):ai(t,e)},D:function(t,e,n){var r=Zr(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):ri(r,e.length)},E:function(t,e,n){var r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return ri(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return ri(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getDay(),i=0===r?7:r;switch(e){case"i":return String(i);case"ii":return ri(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,i=t.getHours();switch(r=12===i?di:0===i?fi:i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,i=t.getHours();switch(r=i>=17?yi:i>=12?pi:i>=4?vi:gi,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var r=t.getHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ui(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):si(t,e)},K:function(t,e,n){var r=t.getHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):ri(r,e.length)},k:function(t,e,n){var r=t.getHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):ri(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ci(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):li(t,e)},S:function(t,e){return hi(t,e)},X:function(t,e,n){var r=t.getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return bi(r);case"XXXX":case"XX":return ki(r);default:return ki(r,":")}},x:function(t,e,n){var r=t.getTimezoneOffset();switch(e){case"x":return bi(r);case"xxxx":case"xx":return ki(r);default:return ki(r,":")}},O:function(t,e,n){var r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+wi(r,":");default:return"GMT"+ki(r,":")}},z:function(t,e,n){var r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+wi(r,":");default:return"GMT"+ki(r,":")}},t:function(t,e,n){return ri(Math.trunc(+t/1e3),e.length)},T:function(t,e,n){return ri(+t,e.length)}};function wi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return 0===o?n+String(i):n+String(i)+e+ri(o,2)}function bi(t,e){return t%60==0?(t>0?"-":"+")+ri(Math.abs(t)/60,2):ki(t,e)}function ki(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t>0?"-":"+",r=Math.abs(t);return n+ri(Math.trunc(r/60),2)+e+ri(r%60,2)}var xi=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Ei=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Ai={p:Ei,P:function(t,e){var n,r=t.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return xi(t,e);switch(i){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",xi(i,e)).replace("{{time}}",Ei(o,e))}},Oi=/^D+$/,Si=/^Y+$/,Ti=["D","DD","YY","YYYY"];function Ri(t){return Oi.test(t)}function Pi(t){return Si.test(t)}function ji(t,e,n){var r=function(t,e,n){var r="Y"===t[0]?"years":"days of the month";return"Use `".concat(t.toLowerCase(),"` instead of `").concat(t,"` (in `").concat(e,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(t,e,n);if(console.warn(r),Ti.includes(t))throw new RangeError(r)}var Li=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Di=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ci=/^'([^]*?)'?$/,Ni=/''/g,_i=/[a-zA-Z]/;function Fi(t,e,n){var r,i,o,a,u,s,c,l,h,f=Mr(),d=null!==(r=f.locale)&&void 0!==r?r:Vr,v=null!==(i=null!==(o=null!==(a=void 0)&&void 0!==a?a:f.firstWeekContainsDate)&&void 0!==o?o:null===(u=f.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==i?i:1,p=null!==(s=null!==(c=null!==(l=void 0)&&void 0!==l?l:f.weekStartsOn)&&void 0!==c?c:null===(h=f.locale)||void 0===h||null===(h=h.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==s?s:0,y=Nr(t,void 0);if(!Ur(y))throw new RangeError("Invalid time value");var g=e.match(Di).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,Ai[e])(t,d.formatLong):t})).join("").match(Li).map((function(t){if("''"===t)return{isToken:!1,value:"'"};var e=t[0];if("'"===e)return{isToken:!1,value:Mi(t)};if(mi[e])return{isToken:!0,value:t};if(e.match(_i))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}}));d.localize.preprocessor&&(g=d.localize.preprocessor(y,g));var m={firstWeekContainsDate:v,weekStartsOn:p,locale:d};return g.map((function(n){if(!n.isToken)return n.value;var r=n.value;return(Pi(r)||Ri(r))&&ji(r,e,String(t)),(0,mi[r[0]])(y,r,d.localize,m)})).join("")}function Mi(t){var e=t.match(Ci);return e?e[1].replace(Ni,"'"):t}var qi=function(){return a((function t(){i(this,t),s(this,"subPriority",0)}),[{key:"validate",value:function(t,e){return!0}}])}(),Hi=function(){function t(e,n,o,a,u){var s;return i(this,t),(s=r(this,t)).value=e,s.validateValue=n,s.setValue=o,s.priority=a,u&&(s.subPriority=u),s}return l(t,qi),a(t,[{key:"validate",value:function(t,e){return this.validateValue(t,this.value,e)}},{key:"set",value:function(t,e,n){return this.setValue(t,e,this.value,n)}}])}(),Ii=function(){function t(e,n){var o;return i(this,t),s(o=r(this,t),"priority",10),s(o,"subPriority",-1),o.context=e||function(t){return Cr(n,t)},o}return l(t,qi),a(t,[{key:"set",value:function(t,e){return e.timestampIsSet?t:Cr(t,function(t,e){var n=function(t){var e;return"function"==typeof t&&(null===(e=t.prototype)||void 0===e?void 0:e.constructor)===t}(e)?new e(0):Cr(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}(t,this.context))}}])}(),Bi=function(){return a((function t(){i(this,t)}),[{key:"run",value:function(t,e,n,r){var i=this.parse(t,e,n,r);return i?{setter:new Hi(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(t,e,n){return!0}}])}(),zi=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",140),s(e,"incompatibleTokens",["R","u","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}},{key:"set",value:function(t,e,n){return e.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}}])}(),$i=/^(1[0-2]|0?\d)/,Ui=/^(3[0-1]|[0-2]?\d)/,Wi=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Yi=/^(5[0-3]|[0-4]?\d)/,Gi=/^(2[0-3]|[0-1]?\d)/,Qi=/^(2[0-4]|[0-1]?\d)/,Ji=/^(1[0-1]|0?\d)/,Xi=/^(1[0-2]|0?\d)/,Ki=/^[0-5]?\d/,Vi=/^[0-5]?\d/,Zi=/^\d/,to=/^\d{1,2}/,eo=/^\d{1,3}/,no=/^\d{1,4}/,ro=/^-?\d+/,io=/^-?\d/,oo=/^-?\d{1,2}/,ao=/^-?\d{1,3}/,uo=/^-?\d{1,4}/,so=/^([+-])(\d{2})(\d{2})?|Z/,co=/^([+-])(\d{2})(\d{2})|Z/,lo=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,ho=/^([+-])(\d{2}):(\d{2})|Z/,fo=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function vo(t,e){return t?{value:e(t.value),rest:t.rest}:t}function po(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function yo(t,e){var n=e.match(t);return n?"Z"===n[0]?{value:0,rest:e.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:e.slice(n[0].length)}:null}function go(t){return po(ro,t)}function mo(t,e){switch(t){case 1:return po(Zi,e);case 2:return po(to,e);case 3:return po(eo,e);case 4:return po(no,e);default:return po(new RegExp("^\\d{1,"+t+"}"),e)}}function wo(t,e){switch(t){case 1:return po(io,e);case 2:return po(oo,e);case 3:return po(ao,e);case 4:return po(uo,e);default:return po(new RegExp("^-?\\d{1,"+t+"}"),e)}}function bo(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ko(t,e){var n,r=e>0,i=r?e:1-e;if(i<=50)n=t||100;else{var o=i+50;n=t+100*Math.trunc(o/100)-(t>=o%100?100:0)}return r?n:1-n}function xo(t){return t%400==0||t%4==0&&t%100!=0}var Eo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",130),s(e,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){var r=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return vo(mo(4,t),r);case"yo":return vo(n.ordinalNumber(t,{unit:"year"}),r);default:return vo(mo(e.length,t),r)}}},{key:"validate",value:function(t,e){return e.isTwoDigitYear||e.year>0}},{key:"set",value:function(t,e,n){var r=t.getFullYear();if(n.isTwoDigitYear){var i=ko(n.year,r);return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}var o="era"in e&&1!==e.era?1-n.year:n.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}])}(),Ao=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",130),s(e,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){var r=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return vo(mo(4,t),r);case"Yo":return vo(n.ordinalNumber(t,{unit:"year"}),r);default:return vo(mo(e.length,t),r)}}},{key:"validate",value:function(t,e){return e.isTwoDigitYear||e.year>0}},{key:"set",value:function(t,e,n,r){var i=ei(t,r);if(n.isTwoDigitYear){var o=ko(n.year,i);return t.setFullYear(o,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),qr(t,r)}var a="era"in e&&1!==e.era?1-n.year:n.year;return t.setFullYear(a,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),qr(t,r)}}])}(),Oo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",130),s(e,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e){return wo("R"===e?4:e.length,t)}},{key:"set",value:function(t,e,n){var r=Cr(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Hr(r)}}])}(),So=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",130),s(e,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e){return wo("u"===e?4:e.length,t)}},{key:"set",value:function(t,e,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}}])}(),To=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",120),s(e,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"Q":case"QQ":return mo(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=1&&e<=4}},{key:"set",value:function(t,e,n){return t.setMonth(3*(n-1),1),t.setHours(0,0,0,0),t}}])}(),Ro=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",120),s(e,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"q":case"qq":return mo(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=1&&e<=4}},{key:"set",value:function(t,e,n){return t.setMonth(3*(n-1),1),t.setHours(0,0,0,0),t}}])}(),Po=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),s(e,"priority",110),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){var r=function(t){return t-1};switch(e){case"M":return vo(po($i,t),r);case"MM":return vo(mo(2,t),r);case"Mo":return vo(n.ordinalNumber(t,{unit:"month"}),r);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}])}(),jo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",110),s(e,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){var r=function(t){return t-1};switch(e){case"L":return vo(po($i,t),r);case"LL":return vo(mo(2,t),r);case"Lo":return vo(n.ordinalNumber(t,{unit:"month"}),r);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}])}();var Lo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",100),s(e,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"w":return po(Yi,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return mo(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=53}},{key:"set",value:function(t,e,n,r){return qr(function(t,e,n){var r=Nr(t,null==n?void 0:n.in),i=ni(r,n)-e;return r.setDate(r.getDate()-7*i),Nr(r,null==n?void 0:n.in)}(t,n,r),r)}}])}();var Do=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",100),s(e,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"I":return po(Yi,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return mo(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=53}},{key:"set",value:function(t,e,n){return Hr(function(t,e){var n=Nr(t,void 0),r=ti(n)-e;return n.setDate(n.getDate()-7*r),n}(t,n))}}])}(),Co=[31,28,31,30,31,30,31,31,30,31,30,31],No=[31,29,31,30,31,30,31,31,30,31,30,31],_o=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",90),s(e,"subPriority",1),s(e,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"d":return po(Ui,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return mo(e.length,t)}}},{key:"validate",value:function(t,e){var n=xo(t.getFullYear()),r=t.getMonth();return n?e>=1&&e<=No[r]:e>=1&&e<=Co[r]}},{key:"set",value:function(t,e,n){return t.setDate(n),t.setHours(0,0,0,0),t}}])}(),Fo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",90),s(e,"subpriority",1),s(e,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"D":case"DD":return po(Wi,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return mo(e.length,t)}}},{key:"validate",value:function(t,e){return xo(t.getFullYear())?e>=1&&e<=366:e>=1&&e<=365}},{key:"set",value:function(t,e,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}}])}();function Mo(t,e,n){var r,i,o,a,u,s,c=Mr(),l=null!==(r=null!==(i=null!==(o=null!==(a=null==n?void 0:n.weekStartsOn)&&void 0!==a?a:null==n||null===(u=n.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:c.weekStartsOn)&&void 0!==i?i:null===(s=c.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:0,h=Nr(t,null==n?void 0:n.in),f=h.getDay(),d=7-l;return _r(h,e<0||e>6?e-(f+d)%7:((e%7+7)%7+d)%7-(f+d)%7,n)}var qo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",90),s(e,"incompatibleTokens",["D","i","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,n,r){return(t=Mo(t,n,r)).setHours(0,0,0,0),t}}])}(),Ho=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",90),s(e,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n,r){var i=function(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return vo(mo(e.length,t),i);case"eo":return vo(n.ordinalNumber(t,{unit:"day"}),i);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,n,r){return(t=Mo(t,n,r)).setHours(0,0,0,0),t}}])}(),Io=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",90),s(e,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n,r){var i=function(t){var e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return vo(mo(e.length,t),i);case"co":return vo(n.ordinalNumber(t,{unit:"day"}),i);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(t,e){return e>=0&&e<=6}},{key:"set",value:function(t,e,n,r){return(t=Mo(t,n,r)).setHours(0,0,0,0),t}}])}();function Bo(t,e,n){var r=Nr(t,void 0),i=function(t){var e=Nr(t,void 0).getDay();return 0===e?7:e}(r);return _r(r,e-i,n)}var zo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",90),s(e,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){var r=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return mo(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return vo(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r);case"iiiii":return vo(n.day(t,{width:"narrow",context:"formatting"}),r);case"iiiiii":return vo(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r);default:return vo(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(t,e){return e>=1&&e<=7}},{key:"set",value:function(t,e,n){return(t=Bo(t,n)).setHours(0,0,0,0),t}}])}(),$o=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",80),s(e,"incompatibleTokens",["b","B","H","k","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,n){return t.setHours(bo(n),0,0,0),t}}])}(),Uo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",80),s(e,"incompatibleTokens",["a","B","H","k","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,n){return t.setHours(bo(n),0,0,0),t}}])}(),Wo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",80),s(e,"incompatibleTokens",["a","b","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(t,e,n){return t.setHours(bo(n),0,0,0),t}}])}(),Yo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",70),s(e,"incompatibleTokens",["H","K","k","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"h":return po(Xi,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return mo(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=12}},{key:"set",value:function(t,e,n){var r=t.getHours()>=12;return r&&n<12?t.setHours(n+12,0,0,0):r||12!==n?t.setHours(n,0,0,0):t.setHours(0,0,0,0),t}}])}(),Go=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",70),s(e,"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"H":return po(Gi,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return mo(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=23}},{key:"set",value:function(t,e,n){return t.setHours(n,0,0,0),t}}])}(),Qo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",70),s(e,"incompatibleTokens",["h","H","k","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"K":return po(Ji,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return mo(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=11}},{key:"set",value:function(t,e,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}}])}(),Jo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",70),s(e,"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"k":return po(Qi,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return mo(e.length,t)}}},{key:"validate",value:function(t,e){return e>=1&&e<=24}},{key:"set",value:function(t,e,n){var r=n<=24?n%24:n;return t.setHours(r,0,0,0),t}}])}(),Xo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",60),s(e,"incompatibleTokens",["t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"m":return po(Ki,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return mo(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=59}},{key:"set",value:function(t,e,n){return t.setMinutes(n,0,0),t}}])}(),Ko=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",50),s(e,"incompatibleTokens",["t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e,n){switch(e){case"s":return po(Vi,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return mo(e.length,t)}}},{key:"validate",value:function(t,e){return e>=0&&e<=59}},{key:"set",value:function(t,e,n){return t.setSeconds(n,0),t}}])}(),Vo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",30),s(e,"incompatibleTokens",["t","T"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e){return vo(mo(e.length,t),(function(t){return Math.trunc(t*Math.pow(10,3-e.length))}))}},{key:"set",value:function(t,e,n){return t.setMilliseconds(n),t}}])}(),Zo=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",10),s(e,"incompatibleTokens",["t","T","x"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e){switch(e){case"X":return yo(so,t);case"XX":return yo(co,t);case"XXXX":return yo(lo,t);case"XXXXX":return yo(fo,t);default:return yo(ho,t)}}},{key:"set",value:function(t,e,n){return e.timestampIsSet?t:Cr(t,t.getTime()-Br(t)-n)}}])}(),ta=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",10),s(e,"incompatibleTokens",["t","T","X"]),e}return l(t,Bi),a(t,[{key:"parse",value:function(t,e){switch(e){case"x":return yo(so,t);case"xx":return yo(co,t);case"xxxx":return yo(lo,t);case"xxxxx":return yo(fo,t);default:return yo(ho,t)}}},{key:"set",value:function(t,e,n){return e.timestampIsSet?t:Cr(t,t.getTime()-Br(t)-n)}}])}(),ea=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",40),s(e,"incompatibleTokens","*"),e}return l(t,Bi),a(t,[{key:"parse",value:function(t){return go(t)}},{key:"set",value:function(t,e,n){return[Cr(t,1e3*n),{timestampIsSet:!0}]}}])}(),na=function(){function t(){var e;i(this,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return s(e=r(this,t,[].concat(o)),"priority",20),s(e,"incompatibleTokens","*"),e}return l(t,Bi),a(t,[{key:"parse",value:function(t){return go(t)}},{key:"set",value:function(t,e,n){return[Cr(t,n),{timestampIsSet:!0}]}}])}(),ra={G:new zi,y:new Eo,Y:new Ao,R:new Oo,u:new So,Q:new To,q:new Ro,M:new Po,L:new jo,w:new Lo,I:new Do,d:new _o,D:new Fo,E:new qo,e:new Ho,c:new Io,i:new zo,a:new $o,b:new Uo,B:new Wo,h:new Yo,H:new Go,K:new Qo,k:new Jo,m:new Xo,s:new Ko,S:new Vo,X:new Zo,x:new ta,t:new ea,T:new na},ia=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oa=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,aa=/^'([^]*?)'?$/,ua=/''/g,sa=/\S/,ca=/[a-zA-Z]/;function la(t,e,n,r){var i,o,a,s,c,l,h,f,d,v=function(){return Cr(n,NaN)},p=Object.assign({},Mr()),y=null!==(i=p.locale)&&void 0!==i?i:Vr,g=null!==(o=null!==(a=null!==(s=void 0)&&void 0!==s?s:p.firstWeekContainsDate)&&void 0!==a?a:null===(c=p.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:1,m=null!==(l=null!==(h=null!==(f=void 0)&&void 0!==f?f:p.weekStartsOn)&&void 0!==h?h:null===(d=p.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==l?l:0;if(!e)return t?v():Nr(n,void 0);var w,b={firstWeekContainsDate:g,weekStartsOn:m,locale:y},k=[new Ii(void 0,n)],x=e.match(oa).map((function(t){var e=t[0];return e in Ai?(0,Ai[e])(t,y.formatLong):t})).join("").match(ia),E=[],A=u(x);try{var O,S=function(){var n=w.value;null!=r&&r.useAdditionalWeekYearTokens||!Pi(n)||ji(n,e,t),null!=r&&r.useAdditionalDayOfYearTokens||!Ri(n)||ji(n,e,t);var i=n[0],o=ra[i];if(o){var a=o.incompatibleTokens;if(Array.isArray(a)){var u=E.find((function(t){return a.includes(t.token)||t.token===i}));if(u)throw new RangeError("The format string mustn't contain `".concat(u.fullToken,"` and `").concat(n,"` at the same time"))}else if("*"===o.incompatibleTokens&&E.length>0)throw new RangeError("The format string mustn't contain `".concat(n,"` and any other token at the same time"));E.push({token:i,fullToken:n});var s=o.run(t,n,y.match,b);if(!s)return{v:v()};k.push(s.setter),t=s.rest}else{if(i.match(ca))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");if("''"===n?n="'":"'"===i&&(n=n.match(aa)[1].replace(ua,"'")),0!==t.indexOf(n))return{v:v()};t=t.slice(n.length)}};for(A.s();!(w=A.n()).done;)if(O=S())return O.v}catch(t){A.e(t)}finally{A.f()}if(t.length>0&&sa.test(t))return v();var T=k.map((function(t){return t.priority})).sort((function(t,e){return e-t})).filter((function(t,e,n){return n.indexOf(t)===e})).map((function(t){return k.filter((function(e){return e.priority===t})).sort((function(t,e){return e.subPriority-t.subPriority}))})).map((function(t){return t[0]})),R=Nr(n,void 0);if(isNaN(+R))return v();var P,j={},L=u(T);try{for(L.s();!(P=L.n()).done;){var D=P.value;if(!D.validate(R,b))return v();var C=D.set(R,j,b);Array.isArray(C)?(R=C[0],Object.assign(j,C[1])):R=C}}catch(t){L.e(t)}finally{L.f()}return R}var ha=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"store-hour",o])}return l(t,br),a(t,[{key:"day",get:function(){return this.getAttribute("day")}},{key:"isClosed",get:function(){return null===this.getAttribute("start")&&null===this.getAttribute("end")}},{key:"is24Hours",get:function(){var t=this.startDateInstance,e=this.endDateInstance,n=Math.abs(t-e);return Math.floor(n/1e3/60)/60>23}},{key:"startDateInstance",get:function(){if(!this.hasAttribute("start"))return null;var t=this.getAttribute("start"),e=3===t.split(":").length;return la(t,e?"HH:mm:ss":"HH:mm",new Date)}},{key:"endDateInstance",get:function(){if(!this.hasAttribute("end"))return null;var t=this.getAttribute("end"),e=3===t.split(":").length;return la(t,e?"HH:mm:ss":"HH:mm",new Date)}},{key:"humanReadableHoursRange",get:function(){return Ur(this.startDateInstance)&&Ur(this.endDateInstance)?"".concat(Fi(this.startDateInstance,"p")," - ").concat(Fi(this.endDateInstance,"p")):"".concat(this.start," - ").concat(this.end)}},{key:"humanReadableHours",get:function(){return this.isClosed?"Closed":this.is24Hours?"24 Hours":this.humanReadableHoursRange}},{key:"create",value:function(){throw new Error("There is no create() method store location!")}},{key:"update",value:function(){throw new Error("There is no update() method store location!")}},{key:"destroy",value:function(){throw new Error("There is no destroy() method store location!")}},{key:"reload",value:function(){throw new Error("There is no reload() method store location!")}}])}();ot("resource","StoreHour",ha);var fa=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"store-location",o])}return l(t,br),a(t,[{key:"latitude",get:function(){return this.getAttribute("place.location.coordinates.1")}},{key:"longitude",get:function(){return this.getAttribute("place.location.coordinates.0")}},{key:"hours",get:function(){return new bt(this.getAttribute("hours").map((function(t){return new ha(t)})))}},{key:"isAlwaysOpen",get:function(){return this.hours.every((function(t){return null==t?void 0:t.is24Hours}))}},{key:"today",get:function(){var t=Fi(new Date,"EEEE");return this.schedule[t]}},{key:"schedule",get:function(){for(var t={},e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],n=0;n<e.length;n++){t[e[n]]=new bt}for(var r=0;r<this.hours.length;r++){var i=this.hours.objectAt(r);t[i.day].pushObject(i)}return t}},{key:"create",value:function(){throw new Error("There is no create() method store location!")}},{key:"update",value:function(){throw new Error("There is no update() method store location!")}},{key:"destroy",value:function(){throw new Error("There is no destroy() method store location!")}}])}();ot("resource","StoreLocation",fa);var da=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"store",o])}return l(t,br),a(t,[{key:"getReviews",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.adapter.get("reviews",d({store:this.id},e)).then((function(e){return new bt(e.map((function(e){return new xr(e,t.adapter)})))}))}},{key:"getLocations",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.adapter.get("locations",d({store:this.id},e)).then((function(e){return new bt(e.map((function(e){return e.place&&(e.place=new Mt(e.place)),new fa(e,t.adapter)})))}))}},{key:"getLocation",value:function(t){var e=this;return this.adapter.get("locations/".concat(t),{store:this.id}).then((function(t){return new fa(t,e.adapter)}))}},{key:"getPaymentGateways",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.adapter.get("gateways",e).then((function(e){return new bt(e.map((function(e){return new jr(e,t.adapter)})))}))}},{key:"getPaymentGateway",value:function(t){var e=this;return this.adapter.get("gateways/".concat(t)).then((function(t){return new jr(t,e.adapter)}))}}])}();ot("resource","Store",da);var va=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"network",o])}return l(t,br),a(t,[{key:"getTags",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.adapter.get("tags",t)}},{key:"getResourceCollection",value:(s=n(v().mark((function t(e,n){var r,i,o=this,a=arguments;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},t.prev=1,t.next=4,this.adapter.get(e,r);case 4:return i=t.sent,t.abrupt("return",new bt(i.map((function(t){return new n(t,o.adapter)}))));case 8:throw t.prev=8,t.t0=t.catch(1),console.error("Error fetching ".concat(e,":"),t.t0),t.t0;case 12:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(t,e){return s.apply(this,arguments)})},{key:"getStores",value:(u=n(v().mark((function t(){var e,n=arguments;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},t.abrupt("return",this.getResourceCollection("stores",da,e));case 2:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getStoreLocations",value:(o=n(v().mark((function t(){var e,n=arguments;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},t.abrupt("return",this.getResourceCollection("store-locations",fa,e));case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"getPaymentGateways",value:(e=n(v().mark((function t(){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getResourceCollection("gateways",jr));case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]);var e,o,u,s}();ot("resource","Network",va);var pa=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,t);var a=e,u=n;return e instanceof Vt&&(a={},u=e),r(this,t,[a,u,"service-quote",o])}return l(t,Kt),a(t,[{key:"setAdapter",value:function(t){var e;return this.adapter=t,this.store=new yr(this.resource,t,{onAfterFetch:this.syncAttributes.bind(this),actions:null===(e=this.options)||void 0===e?void 0:e.actions}),this}},{key:"formattedAmount",get:function(){var t=this.getAttributes(["amount","currency"]),e=t.amount,n=t.currency;return mr(e)||mr(n)?null:gr(e/100,n)}},{key:"fetchServiceQuotesFromCart",value:(o=n(v().mark((function e(n,r,i){var o,a,u,s,c,l,h=this,f=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=f.length>3&&void 0!==f[3]?f[3]:"storefront",c=f.length>4&&void 0!==f[4]&&f[4],null!==(o=n)&&void 0!==o&&o.id&&(n=n.id),null!==(a=r)&&void 0!==a&&a.id&&(r=r.id),null!==(u=i)&&void 0!==u&&u.id&&(i=i.id),e.prev=5,e.next=8,this.adapter.get("service-quotes/from-cart",{origin:n,destination:r,cart:i,config:s,all:c});case 8:if(l=e.sent,!wr(l)){e.next=11;break}return e.abrupt("return",new bt(l.map((function(e){return new t(e,h.adapter)}))));case 11:return e.abrupt("return",new t(l,this.adapter));case 14:throw e.prev=14,e.t0=e.catch(5),console.error("Error fetching service quotes:",e.t0),e.t0;case 18:case"end":return e.stop()}}),e,this,[[5,14]])}))),function(t,e,n){return o.apply(this,arguments)})}],[{key:"getFromCart",value:(e=n(v().mark((function e(n,r,i,o){var a,u,s,c=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>4&&void 0!==c[4]?c[4]:"storefront",u=c.length>5&&void 0!==c[5]&&c[5],s=new t(n),e.abrupt("return",s.fetchServiceQuotesFromCart(r,i,o,a,u));case 4:case"end":return e.stop()}}),e)}))),function(t,n,r,i){return e.apply(this,arguments)})}]);var e,o}();ot("resource","DeliveryServiceQuote",pa);var ya=new Pt({create:void 0,findAll:void 0,query:void 0,queryRecord:void 0,initialize:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return jt(t)&&(t=t.id),jt(e)&&(e=e.id),jt(n)&&(n=n.id),jt(r)&&(r=r.getAttribute("code")),this.adapter.get("".concat(this.namespace,"/before"),d(d({},i),{},{customer:t,cart:e,serviceQuote:n,gateway:r}),o)},captureOrder:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.adapter.post("".concat(this.namespace,"/capture"),{token:t,transactionDetails:e},n).then((function(t){return new Nt(t)}))},createStripeSetupIntent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jt(t)&&(t=t.id),this.adapter.post("".concat(this.namespace,"/stripe-setup-intent"),{customer:t},e)},updateStripePaymentIntent:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return jt(e)&&(e=e.id),jt(n)&&(n=n.id),jt(r)&&(r=r.id),this.adapter.put("".concat(this.namespace,"/stripe-update-payment-intent"),d({paymentIntent:t,customer:e,cart:n,serviceQuote:r},i),o)}}),ga=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,t),r(this,t,[e,n,"checkout",d({actions:ya},o)])}return l(t,br),a(t,[{key:"initialize",value:function(){var t;return(t=this.store).initialize.apply(t,arguments)}},{key:"captureOrder",value:function(){var t;return(t=this.store).captureOrder.apply(t,arguments)}}])}();ot("resource","Checkout",ga);var ma=function(){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i(this,t),this.version=r.version||"v1",this.options={version:this.version,host:r.host||"https://api.fleetbase.io",namespace:r.namespace||"storefront/".concat(this.version),publicKey:e,debug:o},!("string"==typeof(n=e)&&n.length>30&&(n.startsWith("store_")||n.startsWith("network_"))))throw new Error(" Invalid Storefront key given to Storefront SDK");this.adapter=r.adapter||Et(this.options),this.products=new yr("product",this.adapter),this.categories=new yr("category",this.adapter),this.reviews=new yr("review",this.adapter).extendActions(kr),this.customers=new yr("customer",this.adapter).extendActions(Or),this.cart=new yr("cart",this.adapter).extendActions(Rr),this.checkout=new yr("checkout",this.adapter).extendActions(ya)}return a(t,[{key:"about",value:function(){return this.adapter.get("about")}},{key:"lookup",value:function(t){return this.adapter.get("lookup/".concat(t))}},{key:"search",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.adapter.get("search",d({query:t},e)).then((function(t){return new bt(t.map((function(t){return new Er(t)})))}))}},{key:"setAdapter",value:function(t){this.adapter=t}},{key:"getAdapter",value:function(){return this.adapter}}],[{key:"newInstance",value:function(){return function(t,e,n){if(h())return Reflect.construct.apply(null,arguments);var r=[null];return r.push.apply(r,e),new(t.bind.apply(t,r))}(t,Array.prototype.slice.call(arguments))}}])}();exports.Cart=Pr,exports.Category=Ar,exports.Checkout=ga,exports.Customer=Sr,exports.DeliveryServiceQuote=pa,exports.Network=va,exports.PaymentGateway=jr,exports.Product=Er,exports.Review=xr,exports.Store=da,exports.StoreHour=ha,exports.StoreLocation=fa,exports.default=ma,exports.lookup=ut;
//# sourceMappingURL=storefront.js.map
